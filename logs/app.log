2024-11-07 19:35:48.427 | INFO     | logging:callHandlers:1706 - Started server process [65656]
2024-11-07 19:35:48.427 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:35:48.428 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:35:48.428 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:38:15.129 | INFO     | logging:callHandlers:1706 - Started server process [65792]
2024-11-07 19:38:15.129 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:38:15.132 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 734, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 610, in __aenter__
    await self._router.startup()
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 711, in startup
    await handler()
  File "/Users/rakesh/ap_vc/app/main.py", line 78, in startup_event
    verify_models()
  File "/Users/rakesh/ap_vc/app/main.py", line 40, in verify_models
    raise RuntimeError(f"Missing model files:\n" + "\n".join(missing_files))
RuntimeError: Missing model files:
model: models/model.bin
config: models/config.json
vocab: models/vocabulary.json

2024-11-07 19:38:15.132 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2024-11-07 19:42:37.218 | INFO     | logging:callHandlers:1706 - Started server process [66097]
2024-11-07 19:42:37.218 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:42:37.219 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:42:37.219 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:42:46.525 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:42:46.627 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:42:46.628 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:42:46.628 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:42:46.629 | INFO     | logging:callHandlers:1706 - Finished server process [66097]
2024-11-07 19:43:45.834 | INFO     | logging:callHandlers:1706 - Started server process [66168]
2024-11-07 19:43:45.834 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:43:45.835 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:43:45.835 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:44:24.679 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3177d9ed0>
  |                │     └ <function create_task_group at 0x10603ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3175fa420>
    |     └ <contextlib._GeneratorContextManager object at 0x31e323550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32269d540>
    |     └ <contextlib._GeneratorContextManager object at 0x32264e990>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      │    └ <function rate_limit_middleware at 0x32252ef20>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1064f18a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x305316840>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3225c6110>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3225c6110>
    |                      └ <function get_request_handler.<locals>.app at 0x30318afc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    |     async with AsyncExitStack() as async_exit_stack:
    |                │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
    |                └ <class 'contextlib.AsyncExitStack'>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    |     raise exc_details[1]
    |           └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    |     cb_suppress = await cb(*exc_details)
    |                         │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |                         └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    |     await self.gen.athrow(typ, value, traceback)
    |           │    │   │      │    │      └ <traceback object at 0x320050b00>
    |           │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |           │    │   │      └ <class 'ValueError'>
    |           │    │   └ <method 'athrow' of 'async_generator' objects>
    |           │    └ <async_generator object get_db at 0x32269fa00>
    |           └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>
    |
    |   File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    |     async with AsyncSessionLocal() as session:
    |                │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |                └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    |     await greenlet_spawn(self.sync_session.close)
    |           │              │    │            └ <function Session.close at 0x126bbec00>
    |           │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
    |           │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |           └ <function greenlet_spawn at 0x1130c8400>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    |     _not_implemented()
    |     └ <function _not_implemented at 0x1130c3e20>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    |     raise ValueError(
    |
    | ValueError: the greenlet library is required to use this function. No module named 'greenlet'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10438ca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10429d580>
           └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10429cae0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105077850>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    └ <function subprocess_started at 0x1050e3ec0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10515e7d0>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1050e2e80>
           │       │   └ <uvicorn.server.Server object at 0x10515e7d0>
           │       └ <function run at 0x104de72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105162790>
           │      └ <function Runner.run at 0x104e5b060>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104e58cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104e58c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104e5aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104de7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e3bf750>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
          └ <fastapi.applications.FastAPI object at 0x31e3bf750>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3175fa420>
    └ <contextlib._GeneratorContextManager object at 0x31e323550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32269d540>
    └ <contextlib._GeneratorContextManager object at 0x32264e990>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     │    └ <function rate_limit_middleware at 0x32252ef20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1064f18a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x305316840>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3225c6110>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3225c6110>
                     └ <function get_request_handler.<locals>.app at 0x30318afc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    async with AsyncExitStack() as async_exit_stack:
               │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
               └ <class 'contextlib.AsyncExitStack'>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    raise exc_details[1]
          └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    cb_suppress = await cb(*exc_details)
                        │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
                        └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    await self.gen.athrow(typ, value, traceback)
          │    │   │      │    │      └ <traceback object at 0x320050b00>
          │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
          │    │   │      └ <class 'ValueError'>
          │    │   └ <method 'athrow' of 'async_generator' objects>
          │    └ <async_generator object get_db at 0x32269fa00>
          └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>

  File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    async with AsyncSessionLocal() as session:
               │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
               └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    await greenlet_spawn(self.sync_session.close)
          │              │    │            └ <function Session.close at 0x126bbec00>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
          │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
          └ <function greenlet_spawn at 0x1130c8400>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    _not_implemented()
    └ <function _not_implemented at 0x1130c3e20>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    raise ValueError(

ValueError: the greenlet library is required to use this function. No module named 'greenlet'
2024-11-07 19:44:24.715 | INFO     | logging:callHandlers:1706 - 127.0.0.1:52925 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:44:24.716 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3177d9ed0>
  |                │     └ <function create_task_group at 0x10603ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31e3bf750>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
    |           └ <fastapi.applications.FastAPI object at 0x31e3bf750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3175fa420>
    |     └ <contextlib._GeneratorContextManager object at 0x31e323550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32269d540>
    |     └ <contextlib._GeneratorContextManager object at 0x32264e990>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      │    └ <function rate_limit_middleware at 0x32252ef20>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1064f18a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x305316840>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3225c6110>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3225c6110>
    |                      └ <function get_request_handler.<locals>.app at 0x30318afc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    |     async with AsyncExitStack() as async_exit_stack:
    |                │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
    |                └ <class 'contextlib.AsyncExitStack'>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    |     raise exc_details[1]
    |           └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    |     cb_suppress = await cb(*exc_details)
    |                         │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |                         └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    |     await self.gen.athrow(typ, value, traceback)
    |           │    │   │      │    │      └ <traceback object at 0x320050b00>
    |           │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |           │    │   │      └ <class 'ValueError'>
    |           │    │   └ <method 'athrow' of 'async_generator' objects>
    |           │    └ <async_generator object get_db at 0x32269fa00>
    |           └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>
    |
    |   File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    |     async with AsyncSessionLocal() as session:
    |                │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |                └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    |     await greenlet_spawn(self.sync_session.close)
    |           │              │    │            └ <function Session.close at 0x126bbec00>
    |           │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
    |           │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |           └ <function greenlet_spawn at 0x1130c8400>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    |     _not_implemented()
    |     └ <function _not_implemented at 0x1130c3e20>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    |     raise ValueError(
    |
    | ValueError: the greenlet library is required to use this function. No module named 'greenlet'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10438ca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10429d580>
           └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10429cae0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105077850>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    └ <function subprocess_started at 0x1050e3ec0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10515e7d0>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1050e2e80>
           │       │   └ <uvicorn.server.Server object at 0x10515e7d0>
           │       └ <function run at 0x104de72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105162790>
           │      └ <function Runner.run at 0x104e5b060>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104e58cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104e58c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104e5aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104de7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e3bf750>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
          └ <fastapi.applications.FastAPI object at 0x31e3bf750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3175fa420>
    └ <contextlib._GeneratorContextManager object at 0x31e323550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32269d540>
    └ <contextlib._GeneratorContextManager object at 0x32264e990>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     │    └ <function rate_limit_middleware at 0x32252ef20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1064f18a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x305316840>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3225c6110>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3225c6110>
                     └ <function get_request_handler.<locals>.app at 0x30318afc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    async with AsyncExitStack() as async_exit_stack:
               │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
               └ <class 'contextlib.AsyncExitStack'>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    raise exc_details[1]
          └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    cb_suppress = await cb(*exc_details)
                        │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
                        └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    await self.gen.athrow(typ, value, traceback)
          │    │   │      │    │      └ <traceback object at 0x320050b00>
          │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
          │    │   │      └ <class 'ValueError'>
          │    │   └ <method 'athrow' of 'async_generator' objects>
          │    └ <async_generator object get_db at 0x32269fa00>
          └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>

  File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    async with AsyncSessionLocal() as session:
               │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
               └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    await greenlet_spawn(self.sync_session.close)
          │              │    │            └ <function Session.close at 0x126bbec00>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
          │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
          └ <function greenlet_spawn at 0x1130c8400>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    _not_implemented()
    └ <function _not_implemented at 0x1130c3e20>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    raise ValueError(

ValueError: the greenlet library is required to use this function. No module named 'greenlet'
2024-11-07 19:44:52.711 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:44:52.813 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:44:52.814 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:44:52.815 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:44:52.815 | INFO     | logging:callHandlers:1706 - Finished server process [66168]
2024-11-07 19:46:22.149 | INFO     | logging:callHandlers:1706 - Started server process [66658]
2024-11-07 19:46:22.149 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:46:22.150 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:46:22.150 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:46:29.652 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31ed22190>
  |                │     └ <function create_task_group at 0x102d76de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ec47a00>
    |     └ <contextlib._GeneratorContextManager object at 0x3190f0750>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ed051c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31ecf4890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      │    └ <function rate_limit_middleware at 0x31ec1b2e0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x10322d8a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x14bc8f380>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3190f1790>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3190f1790>
    |                      └ <function get_request_handler.<locals>.app at 0x14bcf1080>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x10322d3a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3b3b00>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x11e4b2340>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x11d905c60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x11e2c2700>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x11e2c2480>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x11defbba0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x11d9a4f40>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x11d9aa700>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ee602c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x11d9a4cc0>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ed473c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x11df83ce0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x11e7e4180>
    |     └ <function await_only at 0x11cfc8400>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1010c4a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100fd9580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100fd8ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101db3490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    └ <function subprocess_started at 0x101e1fec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101e9a750>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x101e1ee80>
           │       │   └ <uvicorn.server.Server object at 0x101e9a750>
           │       └ <function run at 0x101b232e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x101e9e790>
           │      └ <function Runner.run at 0x101b97060>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b94cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101b94c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101b96a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101b23b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x3190ed050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
          └ <fastapi.applications.FastAPI object at 0x3190ed050>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ec47a00>
    └ <contextlib._GeneratorContextManager object at 0x3190f0750>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ed051c0>
    └ <contextlib._GeneratorContextManager object at 0x31ecf4890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     │    └ <function rate_limit_middleware at 0x31ec1b2e0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10322d8a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x14bc8f380>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3190f1790>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3190f1790>
                     └ <function get_request_handler.<locals>.app at 0x14bcf1080>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10322d3a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3b3b00>
                 └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x11e4b2340>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x11d905c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x11e2c2700>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x11e2c2480>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
                └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x11defbba0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x11d9a4f40>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x11d9aa700>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ee602c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x11d9a4cc0>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ed473c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x11df83ce0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x11e7e4180>
    └ <function await_only at 0x11cfc8400>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:46:29.698 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53071 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:46:29.699 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31ed22190>
  |                │     └ <function create_task_group at 0x102d76de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x3190ed050>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
    |           └ <fastapi.applications.FastAPI object at 0x3190ed050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ec47a00>
    |     └ <contextlib._GeneratorContextManager object at 0x3190f0750>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ed051c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31ecf4890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      │    └ <function rate_limit_middleware at 0x31ec1b2e0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x10322d8a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x14bc8f380>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3190f1790>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3190f1790>
    |                      └ <function get_request_handler.<locals>.app at 0x14bcf1080>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x10322d3a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3b3b00>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x11e4b2340>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x11d905c60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x11e2c2700>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x11e2c2480>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x11defbba0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x11d9a4f40>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x11d9aa700>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ee602c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x11d9a4cc0>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ed473c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x11df83ce0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x11e7e4180>
    |     └ <function await_only at 0x11cfc8400>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1010c4a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100fd9580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100fd8ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101db3490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    └ <function subprocess_started at 0x101e1fec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101e9a750>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x101e1ee80>
           │       │   └ <uvicorn.server.Server object at 0x101e9a750>
           │       └ <function run at 0x101b232e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x101e9e790>
           │      └ <function Runner.run at 0x101b97060>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b94cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101b94c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101b96a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101b23b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x3190ed050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
          └ <fastapi.applications.FastAPI object at 0x3190ed050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ec47a00>
    └ <contextlib._GeneratorContextManager object at 0x3190f0750>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ed051c0>
    └ <contextlib._GeneratorContextManager object at 0x31ecf4890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     │    └ <function rate_limit_middleware at 0x31ec1b2e0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10322d8a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x14bc8f380>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3190f1790>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3190f1790>
                     └ <function get_request_handler.<locals>.app at 0x14bcf1080>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10322d3a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3b3b00>
                 └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x11e4b2340>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x11d905c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x11e2c2700>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x11e2c2480>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
                └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x11defbba0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x11d9a4f40>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x11d9aa700>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ee602c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x11d9a4cc0>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ed473c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x11df83ce0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x11e7e4180>
    └ <function await_only at 0x11cfc8400>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:47:34.604 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:47:34.709 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:47:34.710 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:47:34.710 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:47:34.710 | INFO     | logging:callHandlers:1706 - Finished server process [66658]
2024-11-07 19:48:44.670 | INFO     | logging:callHandlers:1706 - Started server process [66941]
2024-11-07 19:48:44.671 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:48:44.671 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:48:44.671 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:48:51.464 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31f357f10>
  |                │     └ <function create_task_group at 0x104c8ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207bb40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    |     └ <contextlib._GeneratorContextManager object at 0x31f364090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3217191c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31f380550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      │    └ <function rate_limit_middleware at 0x31f2c7240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1051418a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x301e8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x31f380810>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x31f380810>
    |                      └ <function get_request_handler.<locals>.app at 0x301eecfe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x1051413a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31d61fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1272b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x123401a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1271c2660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1271c23e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x123af3b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1234a0ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1234aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207ae40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1234a0c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207af40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x123c7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x1274e40e0>
    |     └ <function await_only at 0x1233c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fdca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102eed580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eecae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103cc7510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    └ <function subprocess_started at 0x103d33ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103db2390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103d32e80>
           │       │   └ <uvicorn.server.Server object at 0x103db2390>
           │       └ <function run at 0x103a372e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x103dae790>
           │      └ <function Runner.run at 0x103aab060>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103aa8cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103aa8c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x103aaaa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103a37b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31f085910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
          └ <fastapi.applications.FastAPI object at 0x31f085910>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207bb40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    └ <contextlib._GeneratorContextManager object at 0x31f364090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3217191c0>
    └ <contextlib._GeneratorContextManager object at 0x31f380550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     │    └ <function rate_limit_middleware at 0x31f2c7240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1051418a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x301e8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x31f380810>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x31f380810>
                     └ <function get_request_handler.<locals>.app at 0x301eecfe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1051413a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31d61fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1272b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x123401a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1271c2660>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1271c23e0>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
                └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x123af3b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1234a0ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1234aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207ae40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1234a0c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207af40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x123c7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x1274e40e0>
    └ <function await_only at 0x1233c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:48:51.507 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53141 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:48:51.508 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31f357f10>
  |                │     └ <function create_task_group at 0x104c8ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31f085910>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
    |           └ <fastapi.applications.FastAPI object at 0x31f085910>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207bb40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    |     └ <contextlib._GeneratorContextManager object at 0x31f364090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3217191c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31f380550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      │    └ <function rate_limit_middleware at 0x31f2c7240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1051418a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x301e8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x31f380810>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x31f380810>
    |                      └ <function get_request_handler.<locals>.app at 0x301eecfe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x1051413a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31d61fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1272b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x123401a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1271c2660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1271c23e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x123af3b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1234a0ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1234aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207ae40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1234a0c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207af40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x123c7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x1274e40e0>
    |     └ <function await_only at 0x1233c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fdca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102eed580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eecae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103cc7510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    └ <function subprocess_started at 0x103d33ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103db2390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103d32e80>
           │       │   └ <uvicorn.server.Server object at 0x103db2390>
           │       └ <function run at 0x103a372e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x103dae790>
           │      └ <function Runner.run at 0x103aab060>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103aa8cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103aa8c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x103aaaa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103a37b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31f085910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
          └ <fastapi.applications.FastAPI object at 0x31f085910>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207bb40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    └ <contextlib._GeneratorContextManager object at 0x31f364090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3217191c0>
    └ <contextlib._GeneratorContextManager object at 0x31f380550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     │    └ <function rate_limit_middleware at 0x31f2c7240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1051418a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x301e8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x31f380810>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x31f380810>
                     └ <function get_request_handler.<locals>.app at 0x301eecfe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1051413a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31d61fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1272b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x123401a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1271c2660>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1271c23e0>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
                └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x123af3b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1234a0ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1234aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207ae40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1234a0c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207af40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x123c7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x1274e40e0>
    └ <function await_only at 0x1233c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:49:26.458 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:49:26.561 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:49:26.561 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:49:26.562 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:49:26.562 | INFO     | logging:callHandlers:1706 - Finished server process [66941]
2024-11-07 19:50:29.753 | INFO     | logging:callHandlers:1706 - Started server process [67289]
2024-11-07 19:50:29.759 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:50:29.761 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:50:29.762 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:50:33.308 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3203f2dd0>
  |                │     └ <function create_task_group at 0x1065f2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b880>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x320363920>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b700>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32301d0e0>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      │    └ <function rate_limit_middleware at 0x320337240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x106aa98a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x303f8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x317720610>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x317720610>
    |                      └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x106aa93a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31e60fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x320397790>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1379b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x134701a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1378c6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1378c63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x1373f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1347a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1347aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ff09b80>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1347a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e479780>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x137583c40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x137ce40e0>
    |     └ <function await_only at 0x1345c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104944a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104855580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104854ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10562f510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    └ <function subprocess_started at 0x10569bec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10571a390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10569ae80>
           │       │   └ <uvicorn.server.Server object at 0x10571a390>
           │       └ <function run at 0x10539f2e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105716790>
           │      └ <function Runner.run at 0x105413060>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105410cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105410c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105412a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10539fb00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e631c50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
          └ <fastapi.applications.FastAPI object at 0x31e631c50>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b880>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x320363920>
    └ <contextlib._GeneratorContextManager object at 0x3203f3890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b700>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32301d0e0>
    └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     │    └ <function rate_limit_middleware at 0x320337240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106aa98a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x303f8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x317720610>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x317720610>
                     └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106aa93a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31e60fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x320397790>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1379b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x134701a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1378c6660>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1378c63e0>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
                └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x1373f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1347a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1347aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ff09b80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1347a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e479780>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x137583c40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x137ce40e0>
    └ <function await_only at 0x1345c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:50:33.376 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53183 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:50:33.376 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3203f2dd0>
  |                │     └ <function create_task_group at 0x1065f2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31e631c50>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
    |           └ <fastapi.applications.FastAPI object at 0x31e631c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b880>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x320363920>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b700>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32301d0e0>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      │    └ <function rate_limit_middleware at 0x320337240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x106aa98a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x303f8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x317720610>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x317720610>
    |                      └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x106aa93a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31e60fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x320397790>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1379b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x134701a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1378c6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1378c63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x1373f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1347a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1347aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ff09b80>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1347a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e479780>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x137583c40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x137ce40e0>
    |     └ <function await_only at 0x1345c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104944a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104855580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104854ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10562f510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    └ <function subprocess_started at 0x10569bec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10571a390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10569ae80>
           │       │   └ <uvicorn.server.Server object at 0x10571a390>
           │       └ <function run at 0x10539f2e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105716790>
           │      └ <function Runner.run at 0x105413060>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105410cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105410c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105412a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10539fb00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e631c50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
          └ <fastapi.applications.FastAPI object at 0x31e631c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b880>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x320363920>
    └ <contextlib._GeneratorContextManager object at 0x3203f3890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b700>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32301d0e0>
    └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     │    └ <function rate_limit_middleware at 0x320337240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106aa98a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x303f8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x317720610>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x317720610>
                     └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106aa93a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31e60fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x320397790>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1379b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x134701a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1378c6660>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1378c63e0>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
                └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x1373f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1347a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1347aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ff09b80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1347a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e479780>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x137583c40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x137ce40e0>
    └ <function await_only at 0x1345c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:52:15.039 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:52:15.147 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:52:15.147 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:52:15.148 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:52:15.148 | INFO     | logging:callHandlers:1706 - Finished server process [67289]
2024-11-07 19:56:58.923 | INFO     | logging:callHandlers:1706 - Started server process [67849]
2024-11-07 19:56:58.925 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:56:58.930 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:56:58.930 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:57:04.299 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31bbd2910>
  |                │     └ <function create_task_group at 0x10285ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31bf63920>
    |     └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b640>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31e3350e0>
    |     └ <contextlib._GeneratorContextManager object at 0x31bffab10>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      │    └ <function rate_limit_middleware at 0x31bf37240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x102d118a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x17f18f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x356f60f50>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x356f60f50>
    |                      └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x102d113a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3a3a60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x14bfb22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x14b301a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x14bec6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x14bec63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |                 └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x14b9f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x14b3a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x14b3aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e499400>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x14b3a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e382080>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x14ba7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x14c1e40e0>
    |     └ <function await_only at 0x14b2c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100baca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100abd580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100abcae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101897510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    └ <function subprocess_started at 0x101903ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101982390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101902e80>
           │       │   └ <uvicorn.server.Server object at 0x101982390>
           │       └ <function run at 0x1016072e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10197e790>
           │      └ <function Runner.run at 0x10167b060>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101678cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101678c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10167aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101607b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31a3c2410>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
          └ <fastapi.applications.FastAPI object at 0x31a3c2410>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31bf63920>
    └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b640>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31e3350e0>
    └ <contextlib._GeneratorContextManager object at 0x31bffab10>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     │    └ <function rate_limit_middleware at 0x31bf37240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d118a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x17f18f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x356f60f50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x356f60f50>
                     └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d113a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3a3a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x14bfb22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x14b301a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x14bec6660>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x14bec63e0>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
                └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x14b9f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x14b3a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x14b3aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e499400>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x14b3a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e382080>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x14ba7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x14c1e40e0>
    └ <function await_only at 0x14b2c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:57:04.349 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53352 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:57:04.351 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31bbd2910>
  |                │     └ <function create_task_group at 0x10285ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31a3c2410>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
    |           └ <fastapi.applications.FastAPI object at 0x31a3c2410>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31bf63920>
    |     └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b640>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31e3350e0>
    |     └ <contextlib._GeneratorContextManager object at 0x31bffab10>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      │    └ <function rate_limit_middleware at 0x31bf37240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x102d118a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x17f18f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x356f60f50>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x356f60f50>
    |                      └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x102d113a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3a3a60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x14bfb22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x14b301a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x14bec6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x14bec63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |                 └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x14b9f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x14b3a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x14b3aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e499400>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x14b3a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e382080>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x14ba7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x14c1e40e0>
    |     └ <function await_only at 0x14b2c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100baca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100abd580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100abcae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101897510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    └ <function subprocess_started at 0x101903ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101982390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101902e80>
           │       │   └ <uvicorn.server.Server object at 0x101982390>
           │       └ <function run at 0x1016072e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10197e790>
           │      └ <function Runner.run at 0x10167b060>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101678cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101678c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10167aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101607b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31a3c2410>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
          └ <fastapi.applications.FastAPI object at 0x31a3c2410>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31bf63920>
    └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b640>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31e3350e0>
    └ <contextlib._GeneratorContextManager object at 0x31bffab10>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     │    └ <function rate_limit_middleware at 0x31bf37240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d118a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x17f18f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x356f60f50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x356f60f50>
                     └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d113a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3a3a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x14bfb22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x14b301a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x14bec6660>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x14bec63e0>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
                └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x14b9f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x14b3a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x14b3aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e499400>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x14b3a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e382080>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x14ba7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x14c1e40e0>
    └ <function await_only at 0x14b2c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:58:10.870 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:58:10.973 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:58:10.974 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:58:10.974 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:58:10.974 | INFO     | logging:callHandlers:1706 - Finished server process [67849]
2024-11-07 19:59:27.043 | INFO     | logging:callHandlers:1706 - Started server process [68257]
2024-11-07 19:59:27.043 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:59:27.044 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:59:27.044 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:59:46.784 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104724a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104635580>
           └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104634ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10540f450>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>
    │    └ <function subprocess_started at 0x10547bec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1054f66d0>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10547ae80>
           │       │   └ <uvicorn.server.Server object at 0x1054f66d0>
           │       └ <function run at 0x10517f2e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x1054fa790>
           │      └ <function Runner.run at 0x1051f3060>
           └ <asyncio.runners.Runner object at 0x10544c510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1051f0cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10544c510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1051f0c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1051f2a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10517fb00>
    └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321e6b740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31cb48bd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31f76f790>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321e6b740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x321dddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31cb48bd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321e6b740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x321e6d350>
          │                            │    └ <fastapi.routing.APIRouter object at 0x321da2110>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x321dddcd0>
          └ <function wrap_app_handling_exceptions at 0x106888180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x321da2110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x321da2110>>
          └ <fastapi.routing.APIRouter object at 0x321da2110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1068898a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x302b8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x31ddd8f10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x321e6bba0>
          └ <function wrap_app_handling_exceptions at 0x106888180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x321e6bba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x31ddd8f10>
                     └ <function get_request_handler.<locals>.app at 0x302bf4fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1068893a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31cb3e790>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31dd93a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x321da3650>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 36, in register
    hashed_password=get_password_hash(user_in.password),
                    │                 │       └ 'AudioPod@1234'
                    │                 └ UserCreate(email='rakeshroushan@live.com', full_name=None, password='AudioPod@1234')
                    └ <function get_password_hash at 0x31f75b7e0>

  File "/Users/rakesh/ap_vc/app/core/security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'AudioPod@1234'
           │           └ <function CryptContext.hash at 0x31f74fb00>
           └ <CryptContext at 0x31f50f090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'AudioPod@1234'
           │      └ <classmethod(<function GenericHandler.hash at 0x31f73d3a0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'AudioPod@1234'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x31f75a5c0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x31f76d1d0>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x31f76d1d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x31f73f740>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x31f76d1d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x31f73f4c0>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x31f73f4c0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x31f73f4c0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x31f73f880>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/bcrypt/__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2024-11-07 19:59:49.006 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53412 - "POST /api/v1/auth/register HTTP/1.1" 200
2024-11-07 20:01:35.790 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53480 - "POST /api/v1/auth/token HTTP/1.1" 200
2024-11-07 20:05:24.641 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53609 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:10:51.757 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53762 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:11:19.263 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:11:19.365 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:11:19.365 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:11:19.366 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:11:19.366 | INFO     | logging:callHandlers:1706 - Finished server process [68257]
2024-11-07 20:12:28.548 | INFO     | logging:callHandlers:1706 - Started server process [69172]
2024-11-07 20:12:28.549 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:12:28.550 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:12:28.550 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:12:39.465 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:12:39.568 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:12:39.569 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:12:39.569 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:12:39.569 | INFO     | logging:callHandlers:1706 - Finished server process [69172]
2024-11-07 20:13:41.078 | INFO     | logging:callHandlers:1706 - Started server process [69414]
2024-11-07 20:13:41.081 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:13:41.086 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:13:41.086 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:14:23.894 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53908 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:16:23.880 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54029 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:16:45.003 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:16:45.107 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:16:45.108 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:16:45.109 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:16:45.109 | INFO     | logging:callHandlers:1706 - Finished server process [69414]
2024-11-07 20:17:55.114 | INFO     | logging:callHandlers:1706 - Started server process [69613]
2024-11-07 20:17:55.114 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:17:55.115 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:17:55.115 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:20:08.058 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54110 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:20:28.361 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54128 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:21:11.505 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54155 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:22:09.750 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:22:09.853 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:22:09.853 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:22:09.854 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:22:09.854 | INFO     | logging:callHandlers:1706 - Finished server process [69613]
2024-11-07 20:24:03.462 | INFO     | logging:callHandlers:1706 - Started server process [70054]
2024-11-07 20:24:03.462 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:24:03.462 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:24:03.463 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:24:49.846 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "24de7ac9-c400-4790-b79f-fab4c3615753", "error_code": "INVALID_AUDIO_FORMAT", "message": "Unsupported audio format", "details": {"supported_formats": ["audio/ogg", "audio/wav", "audio/mp3"]}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T14:54:49.837153", "traceback": null}
2024-11-07 20:24:49.857 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54404 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 20:25:59.941 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:26:00.042 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:26:00.043 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:26:00.043 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:26:00.043 | INFO     | logging:callHandlers:1706 - Finished server process [70054]
2024-11-07 20:27:06.526 | INFO     | logging:callHandlers:1706 - Started server process [70223]
2024-11-07 20:27:06.527 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:27:06.528 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:27:06.528 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:27:17.667 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "465a847d-6a09-4fc3-8f8c-9b702a7dc3f9", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T14:57:17.665096", "traceback": null}
2024-11-07 20:27:17.674 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54539 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 20:28:26.229 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:28:26.331 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:28:26.332 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:28:26.332 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:28:26.332 | INFO     | logging:callHandlers:1706 - Finished server process [70223]
2024-11-07 20:30:00.972 | INFO     | logging:callHandlers:1706 - Started server process [70352]
2024-11-07 20:30:00.973 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:30:00.974 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:30:00.974 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:34:25.907 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:34:26.030 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:34:26.044 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:34:26.063 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:34:26.085 | INFO     | logging:callHandlers:1706 - Finished server process [70352]
2024-11-07 20:36:11.286 | INFO     | logging:callHandlers:1706 - Started server process [72081]
2024-11-07 20:36:11.287 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:36:11.288 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:36:11.288 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:37:41.286 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:37:41.408 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:37:41.416 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:37:41.417 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:37:41.420 | INFO     | logging:callHandlers:1706 - Finished server process [72081]
2024-11-07 20:43:39.274 | INFO     | logging:callHandlers:1706 - Started server process [72554]
2024-11-07 20:43:39.275 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:43:39.275 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:43:39.275 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:43:39.299 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3181f23d0>
  |                │     └ <function create_task_group at 0x1062e2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1074051c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ecafa00>
    |     └ <contextlib._GeneratorContextManager object at 0x31e767090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    |     raise RuntimeError("No response returned.")
    |
    | RuntimeError: No response returned.
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fbca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ecd580>
           └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eccae0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104eb7490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    └ <function subprocess_started at 0x104f23ec0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104f9e650>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104f22e80>
           │       │   └ <uvicorn.server.Server object at 0x104f9e650>
           │       └ <function run at 0x1043c72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x104fa2790>
           │      └ <function Runner.run at 0x10443b060>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104438cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104438c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10443aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1043c7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e716890>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
          └ <fastapi.applications.FastAPI object at 0x31e716890>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1074051c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ecafa00>
    └ <contextlib._GeneratorContextManager object at 0x31e767090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    raise RuntimeError("No response returned.")

RuntimeError: No response returned.
2024-11-07 20:43:39.319 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3181f23d0>
  |                │     └ <function create_task_group at 0x1062e2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31e716890>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
    |           └ <fastapi.applications.FastAPI object at 0x31e716890>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1074051c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ecafa00>
    |     └ <contextlib._GeneratorContextManager object at 0x31e767090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    |     raise RuntimeError("No response returned.")
    |
    | RuntimeError: No response returned.
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fbca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ecd580>
           └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eccae0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104eb7490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    └ <function subprocess_started at 0x104f23ec0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104f9e650>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104f22e80>
           │       │   └ <uvicorn.server.Server object at 0x104f9e650>
           │       └ <function run at 0x1043c72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x104fa2790>
           │      └ <function Runner.run at 0x10443b060>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104438cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104438c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10443aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1043c7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e716890>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
          └ <fastapi.applications.FastAPI object at 0x31e716890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1074051c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ecafa00>
    └ <contextlib._GeneratorContextManager object at 0x31e767090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    raise RuntimeError("No response returned.")

RuntimeError: No response returned.
2024-11-07 20:44:01.519 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:44:01.623 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:44:01.624 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:44:01.624 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:44:01.624 | INFO     | logging:callHandlers:1706 - Finished server process [72554]
2024-11-07 21:01:27.251 | INFO     | logging:callHandlers:1706 - Started server process [74817]
2024-11-07 21:01:27.271 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:01:27.274 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:01:27.275 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:01:44.443 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "11857fd3-9076-47f1-8abe-9efd761c4145", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T15:31:44.439925", "traceback": null}
2024-11-07 21:01:44.457 | INFO     | logging:callHandlers:1706 - 127.0.0.1:56291 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 21:07:11.968 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:07:12.080 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:07:12.082 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:07:12.083 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:07:12.084 | INFO     | logging:callHandlers:1706 - Finished server process [74817]
2024-11-07 21:08:38.351 | INFO     | logging:callHandlers:1706 - Started server process [75601]
2024-11-07 21:08:38.352 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:08:38.352 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:08:38.353 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:10:20.101 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:10:20.210 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:10:20.211 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:10:20.211 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:10:20.212 | INFO     | logging:callHandlers:1706 - Finished server process [75601]
2024-11-07 21:11:38.315 | INFO     | logging:callHandlers:1706 - Started server process [75739]
2024-11-07 21:11:38.316 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:11:38.319 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:11:38.319 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:12:34.763 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:12:34.872 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:12:34.876 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:12:34.878 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:12:34.879 | INFO     | logging:callHandlers:1706 - Finished server process [75739]
2024-11-07 21:13:42.340 | INFO     | logging:callHandlers:1706 - Started server process [75949]
2024-11-07 21:13:42.341 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:13:42.342 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:13:42.342 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:14:03.775 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "aab2bd64-f259-4e2f-9ad3-988c453c2f19", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T15:44:03.771423", "traceback": null}
2024-11-07 21:14:03.784 | INFO     | logging:callHandlers:1706 - 127.0.0.1:56865 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 21:15:26.558 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:15:26.661 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:15:26.662 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:15:26.663 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:15:26.663 | INFO     | logging:callHandlers:1706 - Finished server process [75949]
2024-11-07 21:16:58.492 | INFO     | logging:callHandlers:1706 - Started server process [76133]
2024-11-07 21:16:58.498 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:16:58.505 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:16:58.506 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:31:55.516 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "dfa8c19c-411e-435b-a9df-6f3d6a5bce63", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T16:01:55.511069", "traceback": null}
2024-11-07 21:31:55.534 | INFO     | logging:callHandlers:1706 - 127.0.0.1:58278 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 21:39:03.127 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:39:03.243 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:39:03.251 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:39:03.255 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:39:03.258 | INFO     | logging:callHandlers:1706 - Finished server process [76133]
2024-11-07 21:40:41.992 | INFO     | logging:callHandlers:1706 - Started server process [77157]
2024-11-07 21:40:41.994 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:40:42.002 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:40:42.002 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:41:19.441 | INFO     | logging:callHandlers:1706 - 127.0.0.1:59112 - "POST /health HTTP/1.1" 405
2024-11-07 21:41:26.477 | INFO     | logging:callHandlers:1706 - 127.0.0.1:59134 - "POST /api/v1/health HTTP/1.1" 404
2024-11-07 21:41:35.106 | INFO     | logging:callHandlers:1706 - 127.0.0.1:59146 - "POST /api/v1/health HTTP/1.1" 404
2024-11-07 21:41:39.208 | INFO     | logging:callHandlers:1706 - 127.0.0.1:59146 - "POST /health HTTP/1.1" 405
2024-11-07 21:41:45.080 | INFO     | logging:callHandlers:1706 - 127.0.0.1:59169 - "GET /health HTTP/1.1" 200
2024-11-07 21:41:58.877 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "1b471389-75bf-4556-ad99-6ce07c548e6f", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T16:11:58.872368", "traceback": null}
2024-11-07 21:41:58.886 | INFO     | logging:callHandlers:1706 - 127.0.0.1:59185 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 21:42:46.795 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:42:46.899 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:42:46.901 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:42:46.911 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:42:46.912 | INFO     | logging:callHandlers:1706 - Finished server process [77157]
2024-11-07 21:56:32.497 | INFO     | logging:callHandlers:1706 - Started server process [78727]
2024-11-07 21:56:32.497 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:56:32.498 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:56:32.499 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:57:05.379 | ERROR    | logging:callHandlers:1706 - Failed to upload file: 'Settings' object has no attribute 'MULTIPART_THRESHOLD'
2024-11-07 21:57:05.385 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "91d48783-7131-4b2e-be85-f8c4faa0ac5c", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T16:27:05.380996", "traceback": null}
2024-11-07 21:57:05.398 | INFO     | logging:callHandlers:1706 - 127.0.0.1:60318 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 21:58:11.294 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 21:58:11.399 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 21:58:11.400 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 21:58:11.400 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 21:58:11.401 | INFO     | logging:callHandlers:1706 - Finished server process [78727]
2024-11-07 21:58:41.088 | INFO     | logging:callHandlers:1706 - Started server process [78926]
2024-11-07 21:58:41.088 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 21:58:41.089 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 21:58:41.089 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 21:58:45.029 | INFO     | logging:callHandlers:1706 - Successfully uploaded file to https://unquest.s3.amazonaws.com/voices/ce237a51-5cbb-460d-b88f-c62858c2ca98/police-77121.mp3
2024-11-07 21:58:45.048 | ERROR    | logging:callHandlers:1706 - Unexpected error in create_voice
Traceback (most recent call last):

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2423, in _determine_joins
    self.primaryjoin = join_condition(
    │                  └ <function join_condition at 0x15591fba0>
    └ <sqlalchemy.orm.relationships.JoinCondition object at 0x314e44b10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           │    └ <classmethod(<function Join._join_condition at 0x155b0d8a0>)>
           └ <class 'sqlalchemy.sql.selectable.Join'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/sql/selectable.py", line 1380, in _join_condition
    raise exc.NoForeignKeysError(
          │   └ <class 'sqlalchemy.exc.NoForeignKeysError'>
          └ <module 'sqlalchemy.exc' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'translation_jobs' and 'voices'.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x103108ae0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x103019620>
           └ <SpawnProcess name='SpawnProcess-2' parent=78725 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x103018b80>
    └ <SpawnProcess name='SpawnProcess-2' parent=78725 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103df3750>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=78725 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=78725 started>
    │    └ <function subprocess_started at 0x103e5ff60>
    └ <SpawnProcess name='SpawnProcess-2' parent=78725 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103ede510>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103e5ef20>
           │       │   └ <uvicorn.server.Server object at 0x103ede510>
           │       └ <function run at 0x103b67380>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x103eda790>
           │      └ <function Runner.run at 0x103bd7100>
           └ <asyncio.runners.Runner object at 0x103eddd50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103bd4d60>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x103eddd50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103bd4cc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x103bd6ac0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103b67ba0>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x314cc6340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x30fdfd790>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103edf710>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x314cc6340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x314c36010>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x30fdfd790>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x314cc6340>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x314c35f50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x3149e6b90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x314c36010>
          └ <function wrap_app_handling_exceptions at 0x1057d4220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x314cc6700>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x3149e6b90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x314cc6700>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x3149e6b90>>
          └ <fastapi.routing.APIRouter object at 0x3149e6b90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x314cc6700>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1057d5940>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x314cc6700>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x306630220>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x314cc6700>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x314b2b850>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x314cc67a0>
          └ <function wrap_app_handling_exceptions at 0x1057d4220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x314cc68e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x314cc62a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x314cc67a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x314b2b850>
                     └ <function get_request_handler.<locals>.app at 0x306650fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1057d5440>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x3120a4590>, 'name': 'Test', 'description': 'Sample voice for cloning'...
                 │         └ <function create_voice at 0x3087ceb60>
                 └ <fastapi.dependencies.models.Dependant object at 0x314c25350>

> File "/Users/rakesh/ap_vc/app/api/v1/voice.py", line 79, in create_voice
    voice = VoiceModel(
            └ <class 'app.models.audio.Voice'>

  File "<string>", line 4, in __init__
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
    │       │        │    │     │     └ {'name': 'Test', 'description': 'Sample voice for cloning', 'file_path': 'voices/ce237a51-5cbb-460d-b88f-c62858c2ca98/police-...
    │       │        │    │     └ ()
    │       │        │    └ <sqlalchemy.orm.state.InstanceState object at 0x314e15250>
    │       │        └ <member 'init' of 'InstanceEventsDispatch' objects>
    │       └ <sqlalchemy.event.base.InstanceEventsDispatch object at 0x15688b7f0>
    └ <ClassManager of <class 'app.models.audio.Voice'> at 156852390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/event/attr.py", line 497, in __call__
    fn(*args, **kw)
    │   │       └ {}
    │   └ (<sqlalchemy.orm.state.InstanceState object at 0x314e15250>, (), {'name': 'Test', 'description': 'Sample voice for cloning', ...
    └ <function _event_on_init at 0x156115a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4407, in _event_on_init
    instrumenting_mapper._check_configure()
    │                    └ <function Mapper._check_configure at 0x1561119e0>
    └ <Mapper at 0x154cb11d0; Voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2399, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x15687ddd0>
    │                      └ <Mapper at 0x154cb11d0; Voice>
    └ <function _configure_registries at 0x1561156c0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4215, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x156115800>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4256, in _do_configure_registries
    mapper._post_configure_properties()
    │      └ <function Mapper._post_configure_properties at 0x1561118a0>
    └ <Mapper at 0x155012f50; TranslationJob>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2416, in _post_configure_properties
    prop.init()
    │    └ <function MapperProperty.init at 0x155fde340>
    └ <_RelationshipDeclared at 0x1568c9f90; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
    │    └ <function RelationshipProperty.do_init at 0x156108180>
    └ <_RelationshipDeclared at 0x1568c9f90; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1644, in do_init
    self._setup_join_conditions()
    │    └ <function RelationshipProperty._setup_join_conditions at 0x156108400>
    └ <_RelationshipDeclared at 0x1568c9f90; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1884, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
    │                           └ <class 'sqlalchemy.orm.relationships.JoinCondition'>
    └ <_RelationshipDeclared at 0x1568c9f90; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2310, in __init__
    self._determine_joins()
    │    └ <function JoinCondition._determine_joins at 0x156109440>
    └ <sqlalchemy.orm.relationships.JoinCondition object at 0x314e44b10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2444, in _determine_joins
    raise sa_exc.NoForeignKeysError(
          │      └ <class 'sqlalchemy.exc.NoForeignKeysError'>
          └ <module 'sqlalchemy.exc' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship TranslationJob.voice - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2024-11-07 21:58:45.068 | INFO     | logging:callHandlers:1706 - 127.0.0.1:60455 - "POST /api/v1/voice/voices/ HTTP/1.1" 500
2024-11-07 22:03:25.421 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:03:25.525 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:03:25.527 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:03:25.527 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:03:25.530 | INFO     | logging:callHandlers:1706 - Finished server process [78926]
2024-11-07 22:05:48.111 | INFO     | logging:callHandlers:1706 - Started server process [79773]
2024-11-07 22:05:48.112 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:05:48.115 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:05:48.115 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:07:48.635 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:07:48.740 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:07:48.742 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:07:48.742 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:07:48.743 | INFO     | logging:callHandlers:1706 - Finished server process [79773]
2024-11-07 22:08:15.165 | INFO     | logging:callHandlers:1706 - Started server process [79990]
2024-11-07 22:08:15.166 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:08:15.167 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:08:15.167 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:08:57.133 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:08:57.236 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:08:57.237 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:08:57.237 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:08:57.237 | INFO     | logging:callHandlers:1706 - Finished server process [79990]
2024-11-07 22:09:25.817 | INFO     | logging:callHandlers:1706 - Started server process [80121]
2024-11-07 22:09:25.818 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:09:25.819 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:09:25.820 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:10:12.735 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:10:12.837 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:10:12.838 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:10:12.838 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:10:12.838 | INFO     | logging:callHandlers:1706 - Finished server process [80121]
2024-11-07 22:10:38.557 | INFO     | logging:callHandlers:1706 - Started server process [80290]
2024-11-07 22:10:38.557 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:10:38.558 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:10:38.558 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:11:02.730 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:11:02.833 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:11:02.833 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:11:02.833 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:11:02.834 | INFO     | logging:callHandlers:1706 - Finished server process [80290]
2024-11-07 22:11:30.568 | INFO     | logging:callHandlers:1706 - Started server process [80401]
2024-11-07 22:11:30.569 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:11:30.571 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:11:30.572 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:12:03.634 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:12:03.750 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:12:03.751 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:12:03.752 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:12:03.753 | INFO     | logging:callHandlers:1706 - Finished server process [80401]
2024-11-07 22:12:38.104 | INFO     | logging:callHandlers:1706 - Started server process [80528]
2024-11-07 22:12:38.104 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:12:38.105 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:12:38.105 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:16:11.610 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:16:11.714 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:16:11.716 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:16:11.716 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:16:11.716 | INFO     | logging:callHandlers:1706 - Finished server process [80528]
2024-11-07 22:19:07.992 | INFO     | logging:callHandlers:1706 - Started server process [81471]
2024-11-07 22:19:07.993 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:19:07.993 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:19:07.993 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:20:29.402 | INFO     | logging:callHandlers:1706 - Successfully uploaded file to https://unquest.s3.amazonaws.com/voices/7c896453-ece8-4375-9484-b124ec6b61ce/police-77121.mp3
2024-11-07 22:20:29.444 | ERROR    | logging:callHandlers:1706 - Unexpected error in create_voice
Traceback (most recent call last):

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2423, in _determine_joins
    self.primaryjoin = join_condition(
    │                  └ <function join_condition at 0x16af17d80>
    └ <sqlalchemy.orm.relationships.JoinCondition object at 0x1600409d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           │    └ <classmethod(<function Join._join_condition at 0x16b10da80>)>
           └ <class 'sqlalchemy.sql.selectable.Join'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/sql/selectable.py", line 1380, in _join_condition
    raise exc.NoForeignKeysError(
          │   └ <class 'sqlalchemy.exc.NoForeignKeysError'>
          └ <module 'sqlalchemy.exc' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'translation_jobs' and 'voices'.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10054cae0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10045d620>
           └ <SpawnProcess name='SpawnProcess-2' parent=81423 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10045cb80>
    └ <SpawnProcess name='SpawnProcess-2' parent=81423 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10186f590>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=81423 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=81423 started>
    │    └ <function subprocess_started at 0x1018dbf60>
    └ <SpawnProcess name='SpawnProcess-2' parent=81423 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10195a250>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1018daf20>
           │       │   └ <uvicorn.server.Server object at 0x10195a250>
           │       └ <function run at 0x100fab380>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x101956790>
           │      └ <function Runner.run at 0x10101b100>
           └ <asyncio.runners.Runner object at 0x101959a50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101018d60>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101959a50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101018cc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10101aac0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100fabba0>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31596e480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3158c2b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3064cfad0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31596e480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3062c8650>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x3158c2b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31596e480>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x315972050>
          │                            │    └ <fastapi.routing.APIRouter object at 0x30fd7ad10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3062c8650>
          └ <function wrap_app_handling_exceptions at 0x1035dc220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31596e840>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x30fd7ad10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31596e840>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x30fd7ad10>>
          └ <fastapi.routing.APIRouter object at 0x30fd7ad10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31596e840>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1035dd940>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31596e840>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x3043551c0>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31596e840>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x315908ed0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31596e8e0>
          └ <function wrap_app_handling_exceptions at 0x1035dc220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31596ea20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31596e3e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31596e8e0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x315908ed0>
                     └ <function get_request_handler.<locals>.app at 0x304094d60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1035dd440>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x30fd8b490>, 'name': 'Test', 'description': 'Sample voice for cloning'...
                 │         └ <function create_voice at 0x306492d40>
                 └ <fastapi.dependencies.models.Dependant object at 0x3158c8b90>

> File "/Users/rakesh/ap_vc/app/api/v1/voice.py", line 79, in create_voice
    voice = VoiceModel(
            └ <class 'app.models.audio.Voice'>

  File "<string>", line 4, in __init__
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
    │       │        │    │     │     └ {'name': 'Test', 'description': 'Sample voice for cloning', 'file_path': 'voices/7c896453-ece8-4375-9484-b124ec6b61ce/police-...
    │       │        │    │     └ ()
    │       │        │    └ <sqlalchemy.orm.state.InstanceState object at 0x160019490>
    │       │        └ <member 'init' of 'InstanceEventsDispatch' objects>
    │       └ <sqlalchemy.event.base.InstanceEventsDispatch object at 0x16c31a5d0>
    └ <ClassManager of <class 'app.models.audio.Voice'> at 16c30c650>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/event/attr.py", line 497, in __call__
    fn(*args, **kw)
    │   │       └ {}
    │   └ (<sqlalchemy.orm.state.InstanceState object at 0x160019490>, (), {'name': 'Test', 'description': 'Sample voice for cloning', ...
    └ <function _event_on_init at 0x16b609c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4407, in _event_on_init
    instrumenting_mapper._check_configure()
    │                    └ <function Mapper._check_configure at 0x16b605bc0>
    └ <Mapper at 0x16c2b3310; Voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2399, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x16c35bcd0>
    │                      └ <Mapper at 0x16c2b3310; Voice>
    └ <function _configure_registries at 0x16b6098a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4215, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x16b6099e0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4256, in _do_configure_registries
    mapper._post_configure_properties()
    │      └ <function Mapper._post_configure_properties at 0x16b605a80>
    └ <Mapper at 0x16c39ec10; TranslationJob>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2416, in _post_configure_properties
    prop.init()
    │    └ <function MapperProperty.init at 0x16b3da520>
    └ <_RelationshipDeclared at 0x16c392170; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
    │    └ <function RelationshipProperty.do_init at 0x16b4f8360>
    └ <_RelationshipDeclared at 0x16c392170; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1644, in do_init
    self._setup_join_conditions()
    │    └ <function RelationshipProperty._setup_join_conditions at 0x16b4f85e0>
    └ <_RelationshipDeclared at 0x16c392170; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1884, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
    │                           └ <class 'sqlalchemy.orm.relationships.JoinCondition'>
    └ <_RelationshipDeclared at 0x16c392170; voice>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2310, in __init__
    self._determine_joins()
    │    └ <function JoinCondition._determine_joins at 0x16b4f9620>
    └ <sqlalchemy.orm.relationships.JoinCondition object at 0x1600409d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 2444, in _determine_joins
    raise sa_exc.NoForeignKeysError(
          │      └ <class 'sqlalchemy.exc.NoForeignKeysError'>
          └ <module 'sqlalchemy.exc' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/exc.py'>

sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship TranslationJob.voice - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2024-11-07 22:20:29.471 | INFO     | logging:callHandlers:1706 - 127.0.0.1:61559 - "POST /api/v1/voice/voices/ HTTP/1.1" 500
2024-11-07 22:21:03.331 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:21:03.433 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:21:03.434 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:21:03.434 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:21:03.434 | INFO     | logging:callHandlers:1706 - Finished server process [81471]
2024-11-07 22:23:14.626 | INFO     | logging:callHandlers:1706 - Started server process [81845]
2024-11-07 22:23:14.627 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:23:14.628 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:23:14.628 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:23:26.478 | INFO     | logging:callHandlers:1706 - Successfully uploaded file to https://unquest.s3.amazonaws.com/voices/5121e956-f2ca-4263-a5d9-7ef276467b29/police-77121.mp3
2024-11-07 22:23:26.533 | ERROR    | logging:callHandlers:1706 - Unexpected error in create_voice
Traceback (most recent call last):

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connect_utils.py", line 496, in _parse_connect_dsn_and_args
    sslmode = SSLMode.parse(ssl)
              │       │     └ 'true'
              │       └ <classmethod(<function SSLMode.parse at 0x125645580>)>
              └ <enum 'SSLMode'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connect_utils.py", line 45, in parse
    return getattr(cls, sslmode.replace('-', '_'))
                   │    │       └ <method 'replace' of 'str' objects>
                   │    └ 'true'
                   └ <enum 'SSLMode'>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py", line 786, in __getattr__
    raise AttributeError(name) from None
                         └ 'true'

AttributeError: true


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100400ae0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100311620>
           └ <SpawnProcess name='SpawnProcess-1' parent=81843 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100310b80>
    └ <SpawnProcess name='SpawnProcess-1' parent=81843 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1010eb590>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=81843 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=81843 started>
    │    └ <function subprocess_started at 0x101157f60>
    └ <SpawnProcess name='SpawnProcess-1' parent=81843 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1011d6250>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101156f20>
           │       │   └ <uvicorn.server.Server object at 0x1011d6250>
           │       └ <function run at 0x100e5f380>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x1011d2790>
           │      └ <function Runner.run at 0x100ecf100>
           └ <asyncio.runners.Runner object at 0x1011d5a50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100eccd60>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1011d5a50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100ecccc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100eceac0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100e5fba0>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1722aa340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x14e6eced0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x16dd1e050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1722aa340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x172216750>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x14e6eced0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1722aa340>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x1721fec90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x171fca2d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x172216750>
          └ <function wrap_app_handling_exceptions at 0x102564220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1722aa700>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x171fca2d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1722aa700>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x171fca2d0>>
          └ <fastapi.routing.APIRouter object at 0x171fca2d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1722aa700>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102565940>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1722aa700>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x14b294c20>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1722aa700>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x16dd79210>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1722aa7a0>
          └ <function wrap_app_handling_exceptions at 0x102564220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1722aa8e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1722aa2a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x1722aa7a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x16dd79210>
                     └ <function get_request_handler.<locals>.app at 0x14b3342c0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102565440>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x13e429290>, 'name': 'Test', 'description': 'Sample voice for cloning'...
                 │         └ <function create_voice at 0x14e5d6c00>
                 └ <fastapi.dependencies.models.Dependant object at 0x172204d50>

> File "/Users/rakesh/ap_vc/app/api/v1/voice.py", line 87, in create_voice
    await db.commit()
          │  └ <function AsyncSession.commit at 0x1253c04a0>
          └ <sqlalchemy.orm.session.AsyncSession object at 0x13e429290>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x1252d31a0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x16dd1e650>
          │              └ <sqlalchemy.orm.session.AsyncSession object at 0x13e429290>
          └ <function greenlet_spawn at 0x12481a7a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x172306340 (otid=0x1246c3d20) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x1252d22a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
  File "<string>", line 2, in commit
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
                └ <function SessionTransaction.commit at 0x1252d20c0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x1252d1f80>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
  File "<string>", line 2, in _prepare_impl
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
                └ <function SessionTransaction._prepare_impl at 0x1252d1ee0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x1252da0c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x16dd1e650>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x1252da2a0>
    └ <sqlalchemy.orm.session.Session object at 0x16dd1e650>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x172307bc0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ ClientConfigurationError('`sslmode` parameter must be one of: disable, allow, prefer, require, verify-ca, verify-full')
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x1252b2b60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x172306a90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x172306a90>
    │   └ <function SaveUpdateAll.execute at 0x1252b36a0>
    └ SaveUpdateAll(Mapper[Voice(voices)])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x12520a340>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
                                            └ <function _connections_for_states at 0x125295da0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1753, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
                 │              │           │          └ <Mapper at 0x1253e4950; Voice>
                 │              │           └ <function SessionTransaction.connection at 0x1252d16c0>
                 │              └ <sqlalchemy.orm.session.SessionTransaction object at 0x1723035c0>
                 └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x172306a90>
  File "<string>", line 2, in connection
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'execution_options': None}
                │  │      └ (<Mapper at 0x1253e4950; Voice>,)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x1723035c0>
                └ <function SessionTransaction.connection at 0x1252d1620>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1039, in connection
    return self._connection_for_bind(bind, execution_options)
           │    │                    │     └ None
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true)
           │    └ <function SessionTransaction._connection_for_bind at 0x1252d1e40>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x1723035c0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x1723035c0>
                └ <function SessionTransaction._connection_for_bind at 0x1252d1c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1175, in _connection_for_bind
    conn = self._parent._connection_for_bind(
           │    │       └ <function SessionTransaction._connection_for_bind at 0x1252d1e40>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x1723035c0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x13cd5ef80>
                └ <function SessionTransaction._connection_for_bind at 0x1252d1c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x124e04ae0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x124e04b80>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true)
    └ <sqlalchemy.engine.base.Connection object at 0x172307010>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1248b9e40>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?ssl=true)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1248bbec0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1248baa20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1248bf600>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x1723075c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ ClientConfigurationError('`sslmode` parameter must be one of: disable, allow, prefer, require, verify-ca, verify-full')
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1248b9bc0>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x172282120>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x172307480>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ ClientConfigurationError('`sslmode` parameter must be one of: disable, allow, prefer, require, verify-ca, verify-full')
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x172282120>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1253c9300>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1253e6390>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x172282120>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x124eb0c20>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1253c5a50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x125602520>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1253c5750>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1253c5a50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x1256e8e00>
    └ <function await_only at 0x1246d8f40>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object connect at 0x172189540>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0x172306340 (otid=0x1246c3d20) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object connect at 0x172189540>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connection.py", line 2329, in connect
    return await connect_utils._connect(
                 │             └ <function _connect at 0x1256e8ae0>
                 └ <module 'asyncpg.connect_utils' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connect_utils.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connect_utils.py", line 983, in _connect
    addrs, params, config = _parse_connect_arguments(**kwargs)
                            │                          └ {'dsn': None, 'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'port': None, 'user': 'neondb_owner', 'password': '...
                            └ <function _parse_connect_arguments at 0x1256e80e0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connect_utils.py", line 692, in _parse_connect_arguments
    addrs, params = _parse_connect_dsn_and_args(
                    └ <function _parse_connect_dsn_and_args at 0x1256e8040>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/connect_utils.py", line 499, in _parse_connect_dsn_and_args
    raise exceptions.ClientConfigurationError(
          │          └ <class 'asyncpg.exceptions._base.ClientConfigurationError'>
          └ <module 'asyncpg.exceptions' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/asyncpg/exceptions/__init__.py'>

asyncpg.exceptions._base.ClientConfigurationError: `sslmode` parameter must be one of: disable, allow, prefer, require, verify-ca, verify-full
2024-11-07 22:23:26.586 | INFO     | logging:callHandlers:1706 - 127.0.0.1:61678 - "POST /api/v1/voice/voices/ HTTP/1.1" 500
2024-11-07 22:24:58.902 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:24:59.009 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:24:59.021 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:24:59.026 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:24:59.026 | INFO     | logging:callHandlers:1706 - Finished server process [81845]
2024-11-07 22:25:24.618 | INFO     | logging:callHandlers:1706 - Started server process [82017]
2024-11-07 22:25:24.619 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:25:24.619 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:25:24.620 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:25:30.797 | INFO     | logging:callHandlers:1706 - Successfully uploaded file to https://unquest.s3.amazonaws.com/voices/ef5282c8-be94-41c2-bdc6-5a82a6de7005/police-77121.mp3
2024-11-07 22:25:30.813 | ERROR    | logging:callHandlers:1706 - Unexpected error in create_voice
Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100550ae0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100461620>
           └ <SpawnProcess name='SpawnProcess-2' parent=81843 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100460b80>
    └ <SpawnProcess name='SpawnProcess-2' parent=81843 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10123b590>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=81843 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=81843 started>
    │    └ <function subprocess_started at 0x1012a7f60>
    └ <SpawnProcess name='SpawnProcess-2' parent=81843 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101326250>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1012a6f20>
           │       │   └ <uvicorn.server.Server object at 0x101326250>
           │       └ <function run at 0x100faf380>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x101322790>
           │      └ <function Runner.run at 0x10101f100>
           └ <asyncio.runners.Runner object at 0x101325a50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10101cd60>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101325a50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10101ccc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10101eac0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100fafba0>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=0>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=0>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x324622480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x30db05a50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3064969d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x324622480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x30db0b6d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x30db05a50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x324622480>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x324625bd0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x324556b90>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x30db0b6d0>
          └ <function wrap_app_handling_exceptions at 0x103cd4220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x324622840>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x324556b90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x324622840>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x324556b90>>
          └ <fastapi.routing.APIRouter object at 0x324556b90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x324622840>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x103cd5940>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x324622840>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x16d590c20>
          └ APIRoute(path='/api/v1/voice/voices/', name='create_voice', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x324622840>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x324597dd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x3246228e0>
          └ <function wrap_app_handling_exceptions at 0x103cd4220>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x324622a20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3246223e0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x3246228e0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x324597dd0>
                     └ <function get_request_handler.<locals>.app at 0x16d62c2c0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x103cd5440>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x3245c0f50>, 'name': 'Test', 'description': 'Sample voice for cloning'...
                 │         └ <function create_voice at 0x306466c00>
                 └ <fastapi.dependencies.models.Dependant object at 0x324581250>

> File "/Users/rakesh/ap_vc/app/api/v1/voice.py", line 87, in create_voice
    await db.commit()
          │  └ <function AsyncSession.commit at 0x11d4c04a0>
          └ <sqlalchemy.orm.session.AsyncSession object at 0x3245c0f50>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0x11d3d31a0>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x30fc88890>
          │              └ <sqlalchemy.orm.session.AsyncSession object at 0x3245c0f50>
          └ <function greenlet_spawn at 0x11c91a7a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {}
             │       │       └ ()
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31384b3c0 (otid=0x11c7bfd50) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0x11d3d22a0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
  File "<string>", line 2, in commit
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
                └ <function SessionTransaction.commit at 0x11d3d20c0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0x11d3d1f80>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
  File "<string>", line 2, in _prepare_impl
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
                └ <function SessionTransaction._prepare_impl at 0x11d3d1ee0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0x11d3da0c0>
    │    └ <sqlalchemy.orm.session.Session object at 0x30fc88890>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0x11d3da2a0>
    └ <sqlalchemy.orm.session.Session object at 0x30fc88890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32467f900>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0x11d3b2b60>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x157cf4850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x157cf4850>
    │   └ <function SaveUpdateAll.execute at 0x11d3b36a0>
    └ SaveUpdateAll(Mapper[Voice(voices)])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0x11d30a340>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 60, in save_obj
    for (
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 223, in _organize_states_for_save
    for state, dict_, mapper, connection in _connections_for_states(
                                            └ <function _connections_for_states at 0x11d395da0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1753, in _connections_for_states
    connection = uowtransaction.transaction.connection(base_mapper)
                 │              │           │          └ <Mapper at 0x11d4cfa10; Voice>
                 │              │           └ <function SessionTransaction.connection at 0x11d3d16c0>
                 │              └ <sqlalchemy.orm.session.SessionTransaction object at 0x324695040>
                 └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x157cf4850>
  File "<string>", line 2, in connection
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'execution_options': None}
                │  │      └ (<Mapper at 0x11d4cfa10; Voice>,)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x324695040>
                └ <function SessionTransaction.connection at 0x11d3d1620>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1039, in connection
    return self._connection_for_bind(bind, execution_options)
           │    │                    │     └ None
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function SessionTransaction._connection_for_bind at 0x11d3d1e40>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x324695040>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x324695040>
                └ <function SessionTransaction._connection_for_bind at 0x11d3d1c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1175, in _connection_for_bind
    conn = self._parent._connection_for_bind(
           │    │       └ <function SessionTransaction._connection_for_bind at 0x11d3d1e40>
           │    └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x324695040>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x157242cb0>
                └ <function SessionTransaction._connection_for_bind at 0x11d3d1c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x11cf04ae0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x11cf04b80>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x32467f010>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x11c9b1e40>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11c9b3ec0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11c9b2a20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x11c9bf600>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32467f300>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x11c9b1bc0>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x3246189f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32467f140>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x3246189f0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x11d4c9260>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11d6bf610>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x3246189f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x11cfb0c20>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11d4c5810>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11d602480>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11d4e5f50>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11d4c5810>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x11d6e8d60>
    └ <function await_only at 0x11c7d4f40>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 22:25:30.833 | INFO     | logging:callHandlers:1706 - 127.0.0.1:61772 - "POST /api/v1/voice/voices/ HTTP/1.1" 500
2024-11-07 22:27:04.073 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:27:04.180 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:27:04.181 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:27:04.181 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:27:04.181 | INFO     | logging:callHandlers:1706 - Finished server process [82017]
2024-11-07 22:27:41.917 | INFO     | logging:callHandlers:1706 - Started server process [82176]
2024-11-07 22:27:41.917 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:27:41.918 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:27:41.918 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:27:48.990 | INFO     | logging:callHandlers:1706 - Successfully uploaded file to https://unquest.s3.amazonaws.com/voices/67f55825-5465-4d3f-b041-3831b765ec32/police-77121.mp3
2024-11-07 22:27:58.429 | INFO     | logging:callHandlers:1706 - Successfully created voice profile: 1
2024-11-07 22:27:58.685 | INFO     | logging:callHandlers:1706 - 127.0.0.1:61920 - "POST /api/v1/voice/voices/ HTTP/1.1" 200
2024-11-07 22:29:34.979 | INFO     | logging:callHandlers:1706 - Checking model path: models/XTTS-v2
2024-11-07 22:29:34.985 | INFO     | logging:callHandlers:1706 - Checking config path: models/XTTS-v2/config.json
2024-11-07 22:30:09.109 | INFO     | logging:callHandlers:1706 - XTTS model initialized successfully
2024-11-07 22:30:09.229 | INFO     | logging:callHandlers:1706 - 127.0.0.1:62016 - "POST /api/v1/voice/clone/ HTTP/1.1" 422
2024-11-07 22:31:28.636 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:31:28.741 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:31:28.745 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:31:28.748 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:31:28.750 | INFO     | logging:callHandlers:1706 - Finished server process [82176]
2024-11-07 22:32:07.687 | INFO     | logging:callHandlers:1706 - Started server process [82525]
2024-11-07 22:32:07.687 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:32:07.688 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:32:07.688 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:32:30.463 | INFO     | logging:callHandlers:1706 - Checking model path: models/XTTS-v2
2024-11-07 22:32:30.465 | INFO     | logging:callHandlers:1706 - Checking config path: models/XTTS-v2/config.json
2024-11-07 22:33:16.514 | INFO     | logging:callHandlers:1706 - XTTS model initialized successfully
2024-11-07 22:33:33.683 | INFO     | logging:callHandlers:1706 - 127.0.0.1:62283 - "POST /api/v1/voice/clone/ HTTP/1.1" 200
2024-11-07 22:34:33.441 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:34:33.545 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:34:33.547 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:34:33.549 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:34:33.549 | INFO     | logging:callHandlers:1706 - Finished server process [82525]
2024-11-07 22:35:12.929 | INFO     | logging:callHandlers:1706 - Started server process [82713]
2024-11-07 22:35:12.930 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:35:12.930 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:35:12.931 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:35:55.314 | INFO     | logging:callHandlers:1706 - Checking model path: models/XTTS-v2
2024-11-07 22:35:55.315 | INFO     | logging:callHandlers:1706 - Checking config path: models/XTTS-v2/config.json
2024-11-07 22:36:28.237 | INFO     | logging:callHandlers:1706 - XTTS model initialized successfully
2024-11-07 22:36:43.826 | INFO     | logging:callHandlers:1706 - 127.0.0.1:62456 - "POST /api/v1/voice/clone/ HTTP/1.1" 200
2024-11-07 22:38:07.298 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:38:07.400 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:38:07.401 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:38:07.402 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:38:07.404 | INFO     | logging:callHandlers:1706 - Finished server process [82713]
2024-11-07 22:38:53.076 | INFO     | logging:callHandlers:1706 - Started server process [83055]
2024-11-07 22:38:53.077 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:38:53.078 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:38:53.078 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:40:22.586 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:40:22.692 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:40:22.693 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:40:22.695 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:40:22.695 | INFO     | logging:callHandlers:1706 - Finished server process [83055]
2024-11-07 22:40:46.113 | INFO     | logging:callHandlers:1706 - Started server process [83325]
2024-11-07 22:40:46.115 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:40:46.116 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:40:46.116 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:41:50.414 | INFO     | logging:callHandlers:1706 - Checking model path: models/XTTS-v2
2024-11-07 22:41:50.415 | INFO     | logging:callHandlers:1706 - Checking config path: models/XTTS-v2/config.json
2024-11-07 22:42:21.959 | INFO     | logging:callHandlers:1706 - XTTS model initialized successfully
2024-11-07 22:42:36.191 | INFO     | logging:callHandlers:1706 - 127.0.0.1:62738 - "POST /api/v1/voice/clone/ HTTP/1.1" 200
2024-11-07 22:45:48.155 | INFO     | logging:callHandlers:1706 - Checking model path: models/XTTS-v2
2024-11-07 22:45:48.155 | INFO     | logging:callHandlers:1706 - Checking config path: models/XTTS-v2/config.json
2024-11-07 22:46:30.634 | INFO     | logging:callHandlers:1706 - XTTS model initialized successfully
2024-11-07 22:46:34.645 | INFO     | logging:callHandlers:1706 - 127.0.0.1:62945 - "POST /api/v1/voice/clone/ HTTP/1.1" 200
2024-11-07 22:49:08.658 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:49:08.768 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:49:08.777 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:49:08.779 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:49:08.781 | INFO     | logging:callHandlers:1706 - Finished server process [83325]
2024-11-07 22:49:41.136 | INFO     | logging:callHandlers:1706 - Started server process [83920]
2024-11-07 22:49:41.137 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 22:49:41.137 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 22:49:41.137 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 22:51:09.308 | INFO     | logging:callHandlers:1706 - Checking model path: models/XTTS-v2
2024-11-07 22:51:09.310 | INFO     | logging:callHandlers:1706 - Checking config path: models/XTTS-v2/config.json
2024-11-07 22:51:45.567 | INFO     | logging:callHandlers:1706 - XTTS model initialized successfully
2024-11-07 22:51:59.712 | INFO     | logging:callHandlers:1706 - 127.0.0.1:63119 - "POST /api/v1/voice/clone/ HTTP/1.1" 200
2024-11-07 22:52:45.852 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 22:52:45.965 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 22:52:45.972 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 22:52:45.974 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 22:52:45.987 | INFO     | logging:callHandlers:1706 - Finished server process [83920]
