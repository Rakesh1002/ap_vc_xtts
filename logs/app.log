2024-11-07 19:35:48.427 | INFO     | logging:callHandlers:1706 - Started server process [65656]
2024-11-07 19:35:48.427 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:35:48.428 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:35:48.428 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:38:15.129 | INFO     | logging:callHandlers:1706 - Started server process [65792]
2024-11-07 19:38:15.129 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:38:15.132 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 734, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 610, in __aenter__
    await self._router.startup()
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 711, in startup
    await handler()
  File "/Users/rakesh/ap_vc/app/main.py", line 78, in startup_event
    verify_models()
  File "/Users/rakesh/ap_vc/app/main.py", line 40, in verify_models
    raise RuntimeError(f"Missing model files:\n" + "\n".join(missing_files))
RuntimeError: Missing model files:
model: models/model.bin
config: models/config.json
vocab: models/vocabulary.json

2024-11-07 19:38:15.132 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2024-11-07 19:42:37.218 | INFO     | logging:callHandlers:1706 - Started server process [66097]
2024-11-07 19:42:37.218 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:42:37.219 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:42:37.219 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:42:46.525 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:42:46.627 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:42:46.628 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:42:46.628 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:42:46.629 | INFO     | logging:callHandlers:1706 - Finished server process [66097]
2024-11-07 19:43:45.834 | INFO     | logging:callHandlers:1706 - Started server process [66168]
2024-11-07 19:43:45.834 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:43:45.835 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:43:45.835 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:44:24.679 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3177d9ed0>
  |                │     └ <function create_task_group at 0x10603ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3175fa420>
    |     └ <contextlib._GeneratorContextManager object at 0x31e323550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32269d540>
    |     └ <contextlib._GeneratorContextManager object at 0x32264e990>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      │    └ <function rate_limit_middleware at 0x32252ef20>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1064f18a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x305316840>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3225c6110>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3225c6110>
    |                      └ <function get_request_handler.<locals>.app at 0x30318afc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    |     async with AsyncExitStack() as async_exit_stack:
    |                │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
    |                └ <class 'contextlib.AsyncExitStack'>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    |     raise exc_details[1]
    |           └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    |     cb_suppress = await cb(*exc_details)
    |                         │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |                         └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    |     await self.gen.athrow(typ, value, traceback)
    |           │    │   │      │    │      └ <traceback object at 0x320050b00>
    |           │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |           │    │   │      └ <class 'ValueError'>
    |           │    │   └ <method 'athrow' of 'async_generator' objects>
    |           │    └ <async_generator object get_db at 0x32269fa00>
    |           └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>
    |
    |   File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    |     async with AsyncSessionLocal() as session:
    |                │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |                └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    |     await greenlet_spawn(self.sync_session.close)
    |           │              │    │            └ <function Session.close at 0x126bbec00>
    |           │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
    |           │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |           └ <function greenlet_spawn at 0x1130c8400>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    |     _not_implemented()
    |     └ <function _not_implemented at 0x1130c3e20>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    |     raise ValueError(
    |
    | ValueError: the greenlet library is required to use this function. No module named 'greenlet'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10438ca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10429d580>
           └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10429cae0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105077850>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    └ <function subprocess_started at 0x1050e3ec0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10515e7d0>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1050e2e80>
           │       │   └ <uvicorn.server.Server object at 0x10515e7d0>
           │       └ <function run at 0x104de72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105162790>
           │      └ <function Runner.run at 0x104e5b060>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104e58cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104e58c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104e5aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104de7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e3bf750>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
          └ <fastapi.applications.FastAPI object at 0x31e3bf750>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3175fa420>
    └ <contextlib._GeneratorContextManager object at 0x31e323550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32269d540>
    └ <contextlib._GeneratorContextManager object at 0x32264e990>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     │    └ <function rate_limit_middleware at 0x32252ef20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1064f18a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x305316840>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3225c6110>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3225c6110>
                     └ <function get_request_handler.<locals>.app at 0x30318afc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    async with AsyncExitStack() as async_exit_stack:
               │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
               └ <class 'contextlib.AsyncExitStack'>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    raise exc_details[1]
          └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    cb_suppress = await cb(*exc_details)
                        │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
                        └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    await self.gen.athrow(typ, value, traceback)
          │    │   │      │    │      └ <traceback object at 0x320050b00>
          │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
          │    │   │      └ <class 'ValueError'>
          │    │   └ <method 'athrow' of 'async_generator' objects>
          │    └ <async_generator object get_db at 0x32269fa00>
          └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>

  File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    async with AsyncSessionLocal() as session:
               │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
               └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    await greenlet_spawn(self.sync_session.close)
          │              │    │            └ <function Session.close at 0x126bbec00>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
          │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
          └ <function greenlet_spawn at 0x1130c8400>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    _not_implemented()
    └ <function _not_implemented at 0x1130c3e20>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    raise ValueError(

ValueError: the greenlet library is required to use this function. No module named 'greenlet'
2024-11-07 19:44:24.715 | INFO     | logging:callHandlers:1706 - 127.0.0.1:52925 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:44:24.716 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3177d9ed0>
  |                │     └ <function create_task_group at 0x10603ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31e3bf750>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
    |           └ <fastapi.applications.FastAPI object at 0x31e3bf750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3175fa420>
    |     └ <contextlib._GeneratorContextManager object at 0x31e323550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1064211c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32269d540>
    |     └ <contextlib._GeneratorContextManager object at 0x32264e990>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      │    └ <function rate_limit_middleware at 0x32252ef20>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
    |           └ <fastapi.routing.APIRouter object at 0x322594090>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1064f18a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x305316840>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3225c6110>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |           └ <function wrap_app_handling_exceptions at 0x1064f0180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3225c6110>
    |                      └ <function get_request_handler.<locals>.app at 0x30318afc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    |     async with AsyncExitStack() as async_exit_stack:
    |                │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
    |                └ <class 'contextlib.AsyncExitStack'>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    |     raise exc_details[1]
    |           └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    |     cb_suppress = await cb(*exc_details)
    |                         │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
    |                         └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    |     await self.gen.athrow(typ, value, traceback)
    |           │    │   │      │    │      └ <traceback object at 0x320050b00>
    |           │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
    |           │    │   │      └ <class 'ValueError'>
    |           │    │   └ <method 'athrow' of 'async_generator' objects>
    |           │    └ <async_generator object get_db at 0x32269fa00>
    |           └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>
    |
    |   File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    |     async with AsyncSessionLocal() as session:
    |                │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |                └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    |     await greenlet_spawn(self.sync_session.close)
    |           │              │    │            └ <function Session.close at 0x126bbec00>
    |           │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
    |           │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
    |           └ <function greenlet_spawn at 0x1130c8400>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    |     _not_implemented()
    |     └ <function _not_implemented at 0x1130c3e20>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    |     raise ValueError(
    |
    | ValueError: the greenlet library is required to use this function. No module named 'greenlet'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10438ca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10429d580>
           └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10429cae0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105077850>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>
    │    └ <function subprocess_started at 0x1050e3ec0>
    └ <SpawnProcess name='SpawnProcess-2' parent=66091 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10515e7d0>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x1050e2e80>
           │       │   └ <uvicorn.server.Server object at 0x10515e7d0>
           │       └ <function run at 0x104de72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105162790>
           │      └ <function Runner.run at 0x104e5b060>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104e58cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10515df50>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104e58c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104e5aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104de7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e3bf750>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x32257e750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
          └ <fastapi.applications.FastAPI object at 0x31e3bf750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x30b7cb6a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x322609e50>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x3225c5f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x3225eabc0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3175fa420>
    └ <contextlib._GeneratorContextManager object at 0x31e323550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x322595110>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x322609c90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x109f13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32258afc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e38c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d0cb490>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1064211c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e3d40c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [ValueError("the greenlet library is required to use this function. No modu...
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32269d540>
    └ <contextlib._GeneratorContextManager object at 0x32264e990>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     │    └ <function rate_limit_middleware at 0x32252ef20>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31e3b7d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a052020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3225b2710>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x3225abb10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x3226180e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x32260af10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x322594090>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x3225abfd0>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x322594090>>
          └ <fastapi.routing.APIRouter object at 0x322594090>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1064f18a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x305316840>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x3226184a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3225c6110>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
          └ <function wrap_app_handling_exceptions at 0x1064f0180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x322618680>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x322613f60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x322618540>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3225c6110>
                     └ <function get_request_handler.<locals>.app at 0x30318afc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 221, in app
    async with AsyncExitStack() as async_exit_stack:
               │                   └ <contextlib.AsyncExitStack object at 0x3225c5650>
               └ <class 'contextlib.AsyncExitStack'>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 745, in __aexit__
    raise exc_details[1]
          └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 728, in __aexit__
    cb_suppress = await cb(*exc_details)
                        │   └ (<class 'ValueError'>, ValueError("the greenlet library is required to use this function. No module named 'greenlet'"), <trac...
                        └ <bound method _AsyncGeneratorContextManager.__aexit__ of <contextlib._AsyncGeneratorContextManager object at 0x32260be90>>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 231, in __aexit__
    await self.gen.athrow(typ, value, traceback)
          │    │   │      │    │      └ <traceback object at 0x320050b00>
          │    │   │      │    └ ValueError("the greenlet library is required to use this function. No module named 'greenlet'")
          │    │   │      └ <class 'ValueError'>
          │    │   └ <method 'athrow' of 'async_generator' objects>
          │    └ <async_generator object get_db at 0x32269fa00>
          └ <contextlib._AsyncGeneratorContextManager object at 0x32260be90>

  File "/Users/rakesh/ap_vc/app/db/session.py", line 22, in get_db
    async with AsyncSessionLocal() as session:
               │                      └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
               └ sessionmaker(class_='AsyncSession', bind=<sqlalchemy.ext.asyncio.engine.AsyncEngine object at 0x126cbac40>, autoflush=True, e...

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1025, in close
    await greenlet_spawn(self.sync_session.close)
          │              │    │            └ <function Session.close at 0x126bbec00>
          │              │    └ <sqlalchemy.orm.session.Session object at 0x3225c4c10>
          │              └ <sqlalchemy.orm.session.AsyncSession object at 0x31fe61f50>
          └ <function greenlet_spawn at 0x1130c8400>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 99, in greenlet_spawn
    _not_implemented()
    └ <function _not_implemented at 0x1130c3e20>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/concurrency.py", line 79, in _not_implemented
    raise ValueError(

ValueError: the greenlet library is required to use this function. No module named 'greenlet'
2024-11-07 19:44:52.711 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:44:52.813 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:44:52.814 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:44:52.815 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:44:52.815 | INFO     | logging:callHandlers:1706 - Finished server process [66168]
2024-11-07 19:46:22.149 | INFO     | logging:callHandlers:1706 - Started server process [66658]
2024-11-07 19:46:22.149 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:46:22.150 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:46:22.150 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:46:29.652 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31ed22190>
  |                │     └ <function create_task_group at 0x102d76de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ec47a00>
    |     └ <contextlib._GeneratorContextManager object at 0x3190f0750>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ed051c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31ecf4890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      │    └ <function rate_limit_middleware at 0x31ec1b2e0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x10322d8a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x14bc8f380>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3190f1790>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3190f1790>
    |                      └ <function get_request_handler.<locals>.app at 0x14bcf1080>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x10322d3a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3b3b00>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x11e4b2340>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x11d905c60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x11e2c2700>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x11e2c2480>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x11defbba0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x11d9a4f40>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x11d9aa700>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ee602c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x11d9a4cc0>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ed473c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x11df83ce0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x11e7e4180>
    |     └ <function await_only at 0x11cfc8400>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1010c4a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100fd9580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100fd8ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101db3490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    └ <function subprocess_started at 0x101e1fec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101e9a750>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x101e1ee80>
           │       │   └ <uvicorn.server.Server object at 0x101e9a750>
           │       └ <function run at 0x101b232e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x101e9e790>
           │      └ <function Runner.run at 0x101b97060>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b94cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101b94c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101b96a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101b23b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x3190ed050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
          └ <fastapi.applications.FastAPI object at 0x3190ed050>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ec47a00>
    └ <contextlib._GeneratorContextManager object at 0x3190f0750>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ed051c0>
    └ <contextlib._GeneratorContextManager object at 0x31ecf4890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     │    └ <function rate_limit_middleware at 0x31ec1b2e0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10322d8a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x14bc8f380>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3190f1790>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3190f1790>
                     └ <function get_request_handler.<locals>.app at 0x14bcf1080>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10322d3a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3b3b00>
                 └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x11e4b2340>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x11d905c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x11e2c2700>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x11e2c2480>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
                └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x11defbba0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x11d9a4f40>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x11d9aa700>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ee602c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x11d9a4cc0>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ed473c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x11df83ce0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x11e7e4180>
    └ <function await_only at 0x11cfc8400>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:46:29.698 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53071 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:46:29.699 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31ed22190>
  |                │     └ <function create_task_group at 0x102d76de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x3190ed050>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
    |           └ <fastapi.applications.FastAPI object at 0x3190ed050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ec47a00>
    |     └ <contextlib._GeneratorContextManager object at 0x3190f0750>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x10315d1c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ed051c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31ecf4890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      │    └ <function rate_limit_middleware at 0x31ec1b2e0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
    |           └ <fastapi.routing.APIRouter object at 0x31d209550>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x10322d8a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x14bc8f380>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x3190f1790>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |           └ <function wrap_app_handling_exceptions at 0x10322c180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x3190f1790>
    |                      └ <function get_request_handler.<locals>.app at 0x14bcf1080>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x10322d3a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3b3b00>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x11e4b2340>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x11d905c60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x11e2c2700>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x11e2c2480>
    |            └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x11defbba0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x11d9a4f40>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x11d9aa700>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ee602c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x11d9a4cc0>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ed473c0>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x11df83ce0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x11e7e4180>
    |     └ <function await_only at 0x11cfc8400>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x1010c4a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100fd9580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100fd8ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101db3490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>
    │    └ <function subprocess_started at 0x101e1fec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66652 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101e9a750>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x101e1ee80>
           │       │   └ <uvicorn.server.Server object at 0x101e9a750>
           │       └ <function run at 0x101b232e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x101e9e790>
           │      └ <function Runner.run at 0x101b97060>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b94cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101df0510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101b94c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101b96a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101b23b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x3190ed050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31d204690>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
          └ <fastapi.applications.FastAPI object at 0x3190ed050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3126242c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ec9af90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31364d210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60c40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ec47a00>
    └ <contextlib._GeneratorContextManager object at 0x3190f0750>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ec763d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ecf4590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107313d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed39300>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3b0540>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31a3d94d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x10315d1c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31ee60ac0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ed051c0>
    └ <contextlib._GeneratorContextManager object at 0x31ecf4890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     │    └ <function rate_limit_middleware at 0x31ec1b2e0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31a3d9a10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x118ade020>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d351b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31d46dbd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31ed437e0>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31ed46710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31d209550>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31ecb4050>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31d209550>>
          └ <fastapi.routing.APIRouter object at 0x31d209550>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x10322d8a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x14bc8f380>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43ba0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x3190f1790>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
          └ <function wrap_app_handling_exceptions at 0x10322c180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31ed43d80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31ed43740>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31ed43c40>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x3190f1790>
                     └ <function get_request_handler.<locals>.app at 0x14bcf1080>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10322d3a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3b3b00>
                 └ <fastapi.dependencies.models.Dependant object at 0x31ec77c10>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x11e4b2340>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x101ee7fd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x11d905c60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31d209850>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31ecc9d80 (otid=0x11cfe7f00) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x11e2c2700>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x11e2c2480>
           └ <sqlalchemy.orm.session.Session object at 0x31ed47190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x11e2c0f40>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31ee686e0>
                └ <function SessionTransaction._connection_for_bind at 0x11e2c0d60>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x11defbba0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x11defbc40>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31d20ac90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x11d9a4f40>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x11d9a6fc0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x11d9a5b20>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x11d9aa700>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ee602c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x11d9a4cc0>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ed473c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x11e4bc360>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x11e7a2510>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31ec689f0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x11df83ce0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x11e5e9580>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x11e4b8ed0>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x11e4ba190>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x11e7e4180>
    └ <function await_only at 0x11cfc8400>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:47:34.604 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:47:34.709 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:47:34.710 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:47:34.710 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:47:34.710 | INFO     | logging:callHandlers:1706 - Finished server process [66658]
2024-11-07 19:48:44.670 | INFO     | logging:callHandlers:1706 - Started server process [66941]
2024-11-07 19:48:44.671 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:48:44.671 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:48:44.671 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:48:51.464 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31f357f10>
  |                │     └ <function create_task_group at 0x104c8ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207bb40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    |     └ <contextlib._GeneratorContextManager object at 0x31f364090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3217191c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31f380550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      │    └ <function rate_limit_middleware at 0x31f2c7240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1051418a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x301e8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x31f380810>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x31f380810>
    |                      └ <function get_request_handler.<locals>.app at 0x301eecfe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x1051413a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31d61fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1272b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x123401a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1271c2660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1271c23e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x123af3b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1234a0ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1234aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207ae40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1234a0c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207af40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x123c7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x1274e40e0>
    |     └ <function await_only at 0x1233c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fdca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102eed580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eecae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103cc7510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    └ <function subprocess_started at 0x103d33ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103db2390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103d32e80>
           │       │   └ <uvicorn.server.Server object at 0x103db2390>
           │       └ <function run at 0x103a372e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x103dae790>
           │      └ <function Runner.run at 0x103aab060>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103aa8cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103aa8c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x103aaaa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103a37b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31f085910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
          └ <fastapi.applications.FastAPI object at 0x31f085910>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207bb40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    └ <contextlib._GeneratorContextManager object at 0x31f364090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3217191c0>
    └ <contextlib._GeneratorContextManager object at 0x31f380550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     │    └ <function rate_limit_middleware at 0x31f2c7240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1051418a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x301e8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x31f380810>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x31f380810>
                     └ <function get_request_handler.<locals>.app at 0x301eecfe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1051413a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31d61fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1272b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x123401a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1271c2660>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1271c23e0>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
                └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x123af3b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1234a0ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1234aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207ae40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1234a0c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207af40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x123c7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x1274e40e0>
    └ <function await_only at 0x1233c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:48:51.507 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53141 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:48:51.508 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31f357f10>
  |                │     └ <function create_task_group at 0x104c8ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31f085910>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
    |           └ <fastapi.applications.FastAPI object at 0x31f085910>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207bb40>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    |     └ <contextlib._GeneratorContextManager object at 0x31f364090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1050711c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x3217191c0>
    |     └ <contextlib._GeneratorContextManager object at 0x31f380550>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      │    └ <function rate_limit_middleware at 0x31f2c7240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
    |           └ <fastapi.routing.APIRouter object at 0x31f31e350>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x1051418a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x301e8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x31f380810>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |           └ <function wrap_app_handling_exceptions at 0x105140180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x31f380810>
    |                      └ <function get_request_handler.<locals>.app at 0x301eecfe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x1051413a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31d61fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1272b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x123401a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1271c2660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1271c23e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31f084050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x123af3b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1234a0ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1234aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207ae40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1234a0c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x32207af40>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x123c7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x1274e40e0>
    |     └ <function await_only at 0x1233c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fdca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102eed580>
           └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eecae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x103cc7510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>
    │    └ <function subprocess_started at 0x103d33ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=66939 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x103db2390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103d32e80>
           │       │   └ <uvicorn.server.Server object at 0x103db2390>
           │       └ <function run at 0x103a372e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x103dae790>
           │      └ <function Runner.run at 0x103aab060>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103aa8cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x103db1a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103aa8c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x103aaaa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103a37b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31f085910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103db3850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
          └ <fastapi.applications.FastAPI object at 0x31f085910>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x3157c8220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31f346f10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31f346bd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207bb40>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31f2f3a00>
    └ <contextlib._GeneratorContextManager object at 0x31f364090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31f31f090>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f33f950>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1139adf80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321759260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31d61c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d642110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1050711c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32207b9c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x3217191c0>
    └ <contextlib._GeneratorContextManager object at 0x31f380550>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     │    └ <function rate_limit_middleware at 0x31f2c7240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31f3835d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x32175f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31d6412d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bd0a590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32175f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31f380710>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31f31e350>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31f31e090>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31f31e350>>
          └ <fastapi.routing.APIRouter object at 0x31f31e350>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1051418a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x301e8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x31f380810>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
          └ <function wrap_app_handling_exceptions at 0x105140180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x32175fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x32175f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x32175fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x31f380810>
                     └ <function get_request_handler.<locals>.app at 0x301eecfe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1051413a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31d61fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31f31f850>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1272b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31f356dd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x123401a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31bd04550>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x3163d84c0 (otid=0x1233b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1271c2660>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1271c23e0>
           └ <sqlalchemy.orm.session.Session object at 0x31f084050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1271c0ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3220805f0>
                └ <function SessionTransaction._connection_for_bind at 0x1271c0cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x123af3b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x123af3ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31f0866d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1234a0ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1234a2f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1234a1a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1234aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207ae40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1234a0c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x32207af40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1272c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x1274a2050>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31f3188a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x123c7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x1273e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1272c0c90>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1272c3dd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x1274e40e0>
    └ <function await_only at 0x1233c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:49:26.458 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:49:26.561 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:49:26.561 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:49:26.562 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:49:26.562 | INFO     | logging:callHandlers:1706 - Finished server process [66941]
2024-11-07 19:50:29.753 | INFO     | logging:callHandlers:1706 - Started server process [67289]
2024-11-07 19:50:29.759 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:50:29.761 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:50:29.762 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:50:33.308 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3203f2dd0>
  |                │     └ <function create_task_group at 0x1065f2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b880>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x320363920>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b700>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32301d0e0>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      │    └ <function rate_limit_middleware at 0x320337240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x106aa98a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x303f8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x317720610>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x317720610>
    |                      └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x106aa93a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31e60fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x320397790>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1379b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x134701a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1378c6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1378c63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x1373f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1347a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1347aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ff09b80>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1347a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e479780>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x137583c40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x137ce40e0>
    |     └ <function await_only at 0x1345c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104944a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104855580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104854ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10562f510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    └ <function subprocess_started at 0x10569bec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10571a390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10569ae80>
           │       │   └ <uvicorn.server.Server object at 0x10571a390>
           │       └ <function run at 0x10539f2e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105716790>
           │      └ <function Runner.run at 0x105413060>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105410cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105410c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105412a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10539fb00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e631c50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
          └ <fastapi.applications.FastAPI object at 0x31e631c50>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b880>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x320363920>
    └ <contextlib._GeneratorContextManager object at 0x3203f3890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b700>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32301d0e0>
    └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     │    └ <function rate_limit_middleware at 0x320337240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106aa98a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x303f8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x317720610>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x317720610>
                     └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106aa93a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31e60fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x320397790>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1379b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x134701a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1378c6660>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1378c63e0>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
                └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x1373f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1347a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1347aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ff09b80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1347a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e479780>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x137583c40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x137ce40e0>
    └ <function await_only at 0x1345c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:50:33.376 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53183 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:50:33.376 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3203f2dd0>
  |                │     └ <function create_task_group at 0x1065f2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31e631c50>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
    |           └ <fastapi.applications.FastAPI object at 0x31e631c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b880>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x320363920>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3890>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1069d91c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x32317b700>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x32301d0e0>
    |     └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      │    └ <function rate_limit_middleware at 0x320337240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
    |           └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x106aa98a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x303f8f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x317720610>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |           └ <function wrap_app_handling_exceptions at 0x106aa8180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x317720610>
    |                      └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x106aa93a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31e60fa60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x320397790>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x1379b22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x134701a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x1378c6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x1378c63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
    |                 └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x1373f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x1347a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x1347aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31ff09b80>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x1347a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e479780>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x137583c40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x137ce40e0>
    |     └ <function await_only at 0x1345c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104944a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104855580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104854ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10562f510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>
    │    └ <function subprocess_started at 0x10569bec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67285 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10571a390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10569ae80>
           │       │   └ <uvicorn.server.Server object at 0x10571a390>
           │       └ <function run at 0x10539f2e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105716790>
           │      └ <function Runner.run at 0x105413060>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105410cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x105719a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105410c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105412a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10539fb00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e631c50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31e651850>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
          └ <fastapi.applications.FastAPI object at 0x31e631c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10ab13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x3203c91d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ff083d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b880>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x320363920>
    └ <contextlib._GeneratorContextManager object at 0x3203f3890>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x320396dd0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x3203f1650>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10aa1d300>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x32305d260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e60c4a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31e651a90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1069d91c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x32317b700>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x32301d0e0>
    └ <contextlib._GeneratorContextManager object at 0x3203f3bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     │    └ <function rate_limit_middleware at 0x320337240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x320172450>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x323063560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x3203d7750>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31e651b10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x323063740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x323065b10>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x32016b850>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31ff0ac10>>
          └ <fastapi.routing.APIRouter object at 0x31ff0ac10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x106aa98a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x303f8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063b00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x317720610>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
          └ <function wrap_app_handling_exceptions at 0x106aa8180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x323063ce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x3230636a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x323063ba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x317720610>
                     └ <function get_request_handler.<locals>.app at 0x303ff0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x106aa93a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31e60fa60>
                 └ <fastapi.dependencies.models.Dependant object at 0x320397790>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x1379b22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31e5cd7d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x134701a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x3203d5b10>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x320170980 (otid=0x1345b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x1378c6660>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x1378c63e0>
           └ <sqlalchemy.orm.session.Session object at 0x3203f1610>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x1378c4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x3231845f0>
                └ <function SessionTransaction._connection_for_bind at 0x1378c4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x1373f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x1373f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x3203cb390>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1347a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1347a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1347a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1347aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31ff09b80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1347a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e479780>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x1379c42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x137ca35d0>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x320371630>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x137583c40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x137be94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x1379c0790>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1379d9150>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x137ce40e0>
    └ <function await_only at 0x1345c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:52:15.039 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:52:15.147 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:52:15.147 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:52:15.148 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:52:15.148 | INFO     | logging:callHandlers:1706 - Finished server process [67289]
2024-11-07 19:56:58.923 | INFO     | logging:callHandlers:1706 - Started server process [67849]
2024-11-07 19:56:58.925 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:56:58.930 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:56:58.930 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:57:04.299 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31bbd2910>
  |                │     └ <function create_task_group at 0x10285ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31bf63920>
    |     └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b640>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31e3350e0>
    |     └ <contextlib._GeneratorContextManager object at 0x31bffab10>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      │    └ <function rate_limit_middleware at 0x31bf37240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x102d118a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x17f18f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x356f60f50>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x356f60f50>
    |                      └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x102d113a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3a3a60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x14bfb22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x14b301a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x14bec6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x14bec63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |                 └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x14b9f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x14b3a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x14b3aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e499400>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x14b3a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e382080>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x14ba7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x14c1e40e0>
    |     └ <function await_only at 0x14b2c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100baca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100abd580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100abcae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101897510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    └ <function subprocess_started at 0x101903ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101982390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101902e80>
           │       │   └ <uvicorn.server.Server object at 0x101982390>
           │       └ <function run at 0x1016072e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10197e790>
           │      └ <function Runner.run at 0x10167b060>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101678cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101678c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10167aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101607b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31a3c2410>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
          └ <fastapi.applications.FastAPI object at 0x31a3c2410>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31bf63920>
    └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b640>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31e3350e0>
    └ <contextlib._GeneratorContextManager object at 0x31bffab10>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     │    └ <function rate_limit_middleware at 0x31bf37240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d118a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x17f18f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x356f60f50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x356f60f50>
                     └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d113a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3a3a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x14bfb22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x14b301a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x14bec6660>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x14bec63e0>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
                └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x14b9f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x14b3a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x14b3aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e499400>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x14b3a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e382080>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x14ba7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x14c1e40e0>
    └ <function await_only at 0x14b2c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:57:04.349 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53352 - "POST /api/v1/auth/register HTTP/1.1" 500
2024-11-07 19:57:04.351 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x31bbd2910>
  |                │     └ <function create_task_group at 0x10285ade0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31a3c2410>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
    |           └ <fastapi.applications.FastAPI object at 0x31a3c2410>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31bf63920>
    |     └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x102c411c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e49b640>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31e3350e0>
    |     └ <contextlib._GeneratorContextManager object at 0x31bffab10>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      │    └ <function rate_limit_middleware at 0x31bf37240>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |
    |   File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |           └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
    |           └ <fastapi.routing.APIRouter object at 0x31bd73b50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │     └ <function Route.handle at 0x102d118a0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x17f18f2e0>
    |           └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x356f60f50>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |           └ <function wrap_app_handling_exceptions at 0x102d10180>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |                      │    └ <starlette.requests.Request object at 0x356f60f50>
    |                      └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x102d113a0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
    |                  │         └ <function register at 0x31a3a3a60>
    |                  └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>
    |
    |   File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    |     result = await db.execute(
    |                    │  └ <function AsyncSession.execute at 0x14bfb22a0>
    |                    └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    |     result = await greenlet_spawn(
    |                    └ <function greenlet_spawn at 0x14b301a80>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    |     result = context.switch(*args, **kwargs)
    |              │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
    |              │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
    |              │       └ <method 'switch' of 'greenlet.greenlet' objects>
    |              └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    |     return self._execute_internal(
    |            │    └ <function Session._execute_internal at 0x14bec6660>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    |     conn = self._connection_for_bind(bind)
    |            │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <function Session._connection_for_bind at 0x14bec63e0>
    |            └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    |     return trans._connection_for_bind(engine, execution_options)
    |            │     │                    │       └ None
    |            │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
    |            └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |   File "<string>", line 2, in _connection_for_bind
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    |     ret_value = fn(self, *arg, **kw)
    |                 │  │      │      └ {}
    |                 │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
    |                 │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
    |                 └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    |     conn = bind.connect()
    |            │    └ <function Engine.connect at 0x14b9f7b00>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    |     return self._connection_cls(self)
    |            │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |            │    └ <class 'sqlalchemy.engine.base.Connection'>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    |     self._dbapi_connection = engine.raw_connection()
    |     │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    |     │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |     └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    |     return self.pool.connect()
    |            │    │    └ <function Pool.connect at 0x14b3a4ea0>
    |            │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    |     return _ConnectionFairy._checkout(self)
    |            │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
    |            └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    |     fairy = _ConnectionRecord.checkout(pool)
    |             │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |             │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
    |             └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    |     rec = pool._do_get()
    |           │    └ <function QueuePool._do_get at 0x14b3aa660>
    |           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e499400>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    |     return self._create_connection()
    |            │    └ <function Pool._create_connection at 0x14b3a4c20>
    |            └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    |     return _ConnectionRecord(self)
    |            │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    |     self.__connect()
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    |     with util.safe_reraise():
    |          │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
    |          └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    |     raise exc_value.with_traceback(exc_tb)
    |           │         │              └ <traceback object at 0x31e382080>
    |           │         └ <method 'with_traceback' of 'BaseException' objects>
    |           └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    |     self.dbapi_connection = connection = pool._invoke_creator(self)
    |     │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |     │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    |     │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    |     │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    |     └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    |     return dialect.connect(*cargs, **cparams)
    |            │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │       │        └ []
    |            │       └ <function DefaultDialect.connect at 0x14ba7fc40>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    |     return self.loaded_dbapi.connect(*cargs, **cparams)
    |            │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |            │    │            │        └ ()
    |            │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
    |            │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
    |            └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    |     await_only(creator_fn(*arg, **kw)),
    |     │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    |     │          │           └ ()
    |     │          └ <function connect at 0x14c1e40e0>
    |     └ <function await_only at 0x14b2c8220>
    |
    | TypeError: connect() got an unexpected keyword argument 'sslmode'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x100baca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100abd580>
           └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100abcae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101897510>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>
    │    └ <function subprocess_started at 0x101903ec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=67847 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101982390>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101902e80>
           │       │   └ <uvicorn.server.Server object at 0x101982390>
           │       └ <function run at 0x1016072e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10197e790>
           │      └ <function Runner.run at 0x10167b060>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101678cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101981a90>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101678c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10167aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101607b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31a3c2410>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x31a3c1e90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
          └ <fastapi.applications.FastAPI object at 0x31a3c2410>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x312bbc220>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31bd73790>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1019c6f90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b7c0>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31bf63920>
    └ <contextlib._GeneratorContextManager object at 0x31a3e4bd0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31bf8ec90>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bffab50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x124a13d80>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e379260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31a3a04a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1019dc6d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x102c411c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e49b640>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [TypeError("connect() got an unexpected keyword argument 'sslmode'")])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31e3350e0>
    └ <contextlib._GeneratorContextManager object at 0x31bffab10>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     │    └ <function rate_limit_middleware at 0x31bf37240>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>

  File "/Users/rakesh/ap_vc/app/core/middleware.py", line 43, in rate_limit_middleware
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31bb09dd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x31e37f560>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31364c590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31bf8cb90>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x31e37f740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x31e381090>
          │                            │    └ <fastapi.routing.APIRouter object at 0x31bd73b50>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x31bb04ad0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x31bd73b50>>
          └ <fastapi.routing.APIRouter object at 0x31bd73b50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x102d118a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x17f18f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x356f60f50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
          └ <function wrap_app_handling_exceptions at 0x102d10180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x31e37fce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x31e37f6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x31e37fba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x356f60f50>
                     └ <function get_request_handler.<locals>.app at 0x17f1f0fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x102d113a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31a3a3a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x31bf8f590>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 25, in register
    result = await db.execute(
                   │  └ <function AsyncSession.execute at 0x14bfb22a0>
                   └ <sqlalchemy.orm.session.AsyncSession object at 0x31bb044d0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 461, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x14b301a80>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             │       │       │       └ {'params': None, 'execution_options': immutabledict({'prebuffer_rows': True}), 'bind_arguments': None}
             │       │       └ (<sqlalchemy.sql.selectable.Select object at 0x31a3751d0>,)
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x31bfb1f00 (otid=0x14b2b7480) dead>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x14bec6660>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <function Session._connection_for_bind at 0x14bec63e0>
           └ <sqlalchemy.orm.session.Session object at 0x31e381c50>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2106, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │     └ <function SessionTransaction._connection_for_bind at 0x14bec4ea0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x31e49c640>
                └ <function SessionTransaction._connection_for_bind at 0x14bec4cc0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x14b9f7b00>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3278, in connect
    return self._connection_cls(self)
           │    │               └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x14b9f7ba0>
    │                        └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
    └ <sqlalchemy.engine.base.Connection object at 0x31e382050>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3302, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x14b3a4ea0>
           │    └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ Engine(postgresql+asyncpg://neondb_owner:***@ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech/neondb?sslmode=require)
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x14b3a6f20>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x14b3a5a80>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x14b3aa660>
          └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e499400>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x14b3a4c20>
           └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/__init__.py'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x31e382080>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ TypeError("connect() got an unexpected keyword argument 'sslmode'")
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x14bfc42c0>
    │    │                               └ <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x14c1a1950>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x31e32c210>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │       │        └ []
           │       └ <function DefaultDialect.connect at 0x14ba7fc40>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 621, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
           │    │            │        └ ()
           │    │            └ <function AsyncAdapt_asyncpg_dbapi.connect at 0x14c0e94e0>
           │    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi object at 0x14bfd9990>
           └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x14bfb5590>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 949, in connect
    await_only(creator_fn(*arg, **kw)),
    │          │           │      └ {'host': 'ep-spring-sound-a5bgpo8v.us-east-2.aws.neon.tech', 'database': 'neondb', 'user': 'neondb_owner', 'password': '8sYPq...
    │          │           └ ()
    │          └ <function connect at 0x14c1e40e0>
    └ <function await_only at 0x14b2c8220>

TypeError: connect() got an unexpected keyword argument 'sslmode'
2024-11-07 19:58:10.870 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 19:58:10.973 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 19:58:10.974 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 19:58:10.974 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 19:58:10.974 | INFO     | logging:callHandlers:1706 - Finished server process [67849]
2024-11-07 19:59:27.043 | INFO     | logging:callHandlers:1706 - Started server process [68257]
2024-11-07 19:59:27.043 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 19:59:27.044 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 19:59:27.044 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 19:59:46.784 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x104724a40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104635580>
           └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104634ae0>
    └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10540f450>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>
    │    └ <function subprocess_started at 0x10547bec0>
    └ <SpawnProcess name='SpawnProcess-1' parent=68251 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1054f66d0>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x10547ae80>
           │       │   └ <uvicorn.server.Server object at 0x1054f66d0>
           │       └ <function run at 0x10517f2e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x1054fa790>
           │      └ <function Runner.run at 0x1051f3060>
           └ <asyncio.runners.Runner object at 0x10544c510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1051f0cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10544c510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1051f0c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1051f2a20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10517fb00>
    └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...ECT 0', True)>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321e6b740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x31cb48bd0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31f76f790>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321e6b740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x321dddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x31cb48bd0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x321e6b740>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x321e6d350>
          │                            │    └ <fastapi.routing.APIRouter object at 0x321da2110>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x321dddcd0>
          └ <function wrap_app_handling_exceptions at 0x106888180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <fastapi.routing.APIRouter object at 0x321da2110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x321da2110>>
          └ <fastapi.routing.APIRouter object at 0x321da2110>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x1068898a0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x302b8f2e0>
          └ APIRoute(path='/api/v1/auth/register', name='register', methods=['POST'])
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bb00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x31ddd8f10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x321e6bba0>
          └ <function wrap_app_handling_exceptions at 0x106888180>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x321e6bce0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x321e6b6a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x321e6bba0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x31ddd8f10>
                     └ <function get_request_handler.<locals>.app at 0x302bf4fe0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1068893a0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x31cb3e790>, 'user_in': UserCreate(email='rakeshroushan@live.com', ful...
                 │         └ <function register at 0x31dd93a60>
                 └ <fastapi.dependencies.models.Dependant object at 0x321da3650>

  File "/Users/rakesh/ap_vc/app/api/v1/auth.py", line 36, in register
    hashed_password=get_password_hash(user_in.password),
                    │                 │       └ 'AudioPod@1234'
                    │                 └ UserCreate(email='rakeshroushan@live.com', full_name=None, password='AudioPod@1234')
                    └ <function get_password_hash at 0x31f75b7e0>

  File "/Users/rakesh/ap_vc/app/core/security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'AudioPod@1234'
           │           └ <function CryptContext.hash at 0x31f74fb00>
           └ <CryptContext at 0x31f50f090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'AudioPod@1234'
           │      └ <classmethod(<function GenericHandler.hash at 0x31f73d3a0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'AudioPod@1234'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x31f75a5c0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x31f76d1d0>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x31f76d1d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x31f73f740>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x31f76d1d0>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x31f73f4c0>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x31f73f4c0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x31f73f4c0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x31f73f880>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/bcrypt/__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2024-11-07 19:59:49.006 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53412 - "POST /api/v1/auth/register HTTP/1.1" 200
2024-11-07 20:01:35.790 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53480 - "POST /api/v1/auth/token HTTP/1.1" 200
2024-11-07 20:05:24.641 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53609 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:10:51.757 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53762 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:11:19.263 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:11:19.365 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:11:19.365 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:11:19.366 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:11:19.366 | INFO     | logging:callHandlers:1706 - Finished server process [68257]
2024-11-07 20:12:28.548 | INFO     | logging:callHandlers:1706 - Started server process [69172]
2024-11-07 20:12:28.549 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:12:28.550 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:12:28.550 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:12:39.465 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:12:39.568 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:12:39.569 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:12:39.569 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:12:39.569 | INFO     | logging:callHandlers:1706 - Finished server process [69172]
2024-11-07 20:13:41.078 | INFO     | logging:callHandlers:1706 - Started server process [69414]
2024-11-07 20:13:41.081 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:13:41.086 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:13:41.086 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:14:23.894 | INFO     | logging:callHandlers:1706 - 127.0.0.1:53908 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:16:23.880 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54029 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:16:45.003 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:16:45.107 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:16:45.108 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:16:45.109 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:16:45.109 | INFO     | logging:callHandlers:1706 - Finished server process [69414]
2024-11-07 20:17:55.114 | INFO     | logging:callHandlers:1706 - Started server process [69613]
2024-11-07 20:17:55.114 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:17:55.115 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:17:55.115 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:20:08.058 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54110 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:20:28.361 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54128 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:21:11.505 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54155 - "POST /api/v1/voice/voices/ HTTP/1.1" 422
2024-11-07 20:22:09.750 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:22:09.853 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:22:09.853 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:22:09.854 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:22:09.854 | INFO     | logging:callHandlers:1706 - Finished server process [69613]
2024-11-07 20:24:03.462 | INFO     | logging:callHandlers:1706 - Started server process [70054]
2024-11-07 20:24:03.462 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:24:03.462 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:24:03.463 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:24:49.846 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "24de7ac9-c400-4790-b79f-fab4c3615753", "error_code": "INVALID_AUDIO_FORMAT", "message": "Unsupported audio format", "details": {"supported_formats": ["audio/ogg", "audio/wav", "audio/mp3"]}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T14:54:49.837153", "traceback": null}
2024-11-07 20:24:49.857 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54404 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 20:25:59.941 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:26:00.042 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:26:00.043 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:26:00.043 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:26:00.043 | INFO     | logging:callHandlers:1706 - Finished server process [70054]
2024-11-07 20:27:06.526 | INFO     | logging:callHandlers:1706 - Started server process [70223]
2024-11-07 20:27:06.527 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:27:06.528 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:27:06.528 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:27:17.667 | WARNING  | logging:callHandlers:1706 - Error: {"error_id": "465a847d-6a09-4fc3-8f8c-9b702a7dc3f9", "error_code": "UPLOAD_FAILED", "message": "Failed to upload file", "details": {}, "severity": "medium", "category": "processing", "timestamp": "2024-11-07T14:57:17.665096", "traceback": null}
2024-11-07 20:27:17.674 | INFO     | logging:callHandlers:1706 - 127.0.0.1:54539 - "POST /api/v1/voice/voices/ HTTP/1.1" 400
2024-11-07 20:28:26.229 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:28:26.331 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:28:26.332 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:28:26.332 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:28:26.332 | INFO     | logging:callHandlers:1706 - Finished server process [70223]
2024-11-07 20:30:00.972 | INFO     | logging:callHandlers:1706 - Started server process [70352]
2024-11-07 20:30:00.973 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:30:00.974 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:30:00.974 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:34:25.907 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:34:26.030 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:34:26.044 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:34:26.063 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:34:26.085 | INFO     | logging:callHandlers:1706 - Finished server process [70352]
2024-11-07 20:36:11.286 | INFO     | logging:callHandlers:1706 - Started server process [72081]
2024-11-07 20:36:11.287 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:36:11.288 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:36:11.288 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:37:41.286 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:37:41.408 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:37:41.416 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:37:41.417 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:37:41.420 | INFO     | logging:callHandlers:1706 - Finished server process [72081]
2024-11-07 20:43:39.274 | INFO     | logging:callHandlers:1706 - Started server process [72554]
2024-11-07 20:43:39.275 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2024-11-07 20:43:39.275 | INFO     | app.main:startup_event:79 - Starting up application...
2024-11-07 20:43:39.275 | INFO     | logging:callHandlers:1706 - Application startup complete.
2024-11-07 20:43:39.299 | ERROR    | app.main:general_exception_handler:105 - Unhandled exception
  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3181f23d0>
  |                │     └ <function create_task_group at 0x1062e2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1074051c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ecafa00>
    |     └ <contextlib._GeneratorContextManager object at 0x31e767090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    |     raise RuntimeError("No response returned.")
    |
    | RuntimeError: No response returned.
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fbca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ecd580>
           └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eccae0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104eb7490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    └ <function subprocess_started at 0x104f23ec0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104f9e650>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104f22e80>
           │       │   └ <uvicorn.server.Server object at 0x104f9e650>
           │       └ <function run at 0x1043c72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x104fa2790>
           │      └ <function Runner.run at 0x10443b060>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104438cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104438c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10443aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1043c7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e716890>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
          └ <fastapi.applications.FastAPI object at 0x31e716890>
> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1074051c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ecafa00>
    └ <contextlib._GeneratorContextManager object at 0x31e767090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    raise RuntimeError("No response returned.")

RuntimeError: No response returned.
2024-11-07 20:43:39.319 | ERROR    | logging:callHandlers:1706 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x3181f23d0>
  |                │     └ <function create_task_group at 0x1062e2de0>
  |                └ <module 'anyio' from '/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/__init__.py'>
  |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 763, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x31e716890>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
    |           └ <fastapi.applications.FastAPI object at 0x31e716890>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
    |           │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          └ <function collapse_excgroups at 0x1074051c0>
    |
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |     │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    |     │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    |     │    │   │     └ <class 'ExceptionGroup'>
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x31ecafa00>
    |     └ <contextlib._GeneratorContextManager object at 0x31e767090>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
    |                      └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
    |
    |   File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
    |
    |   File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    |     raise RuntimeError("No response returned.")
    |
    | RuntimeError: No response returned.
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x102fbca40>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102ecd580>
           └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102eccae0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104eb7490>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>
    │    └ <function subprocess_started at 0x104f23ec0>
    └ <SpawnProcess name='SpawnProcess-13' parent=69170 started>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104f9e650>>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104f22e80>
           │       │   └ <uvicorn.server.Server object at 0x104f9e650>
           │       └ <function run at 0x1043c72e0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asy...

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x104fa2790>
           │      └ <function Runner.run at 0x10443b060>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/ser...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104438cc0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104ef4510>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 641, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104438c20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 608, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10443aa20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1936, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1043c7b00>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future cancelled>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future cancelled>)>

> File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 412, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x31e716890>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104f9fa10>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
          └ <fastapi.applications.FastAPI object at 0x31e716890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x126b13d80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x31ed24110>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x31ecfa890>
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         └ <function collapse_excgroups at 0x1074051c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
    │    │   │     │    │      └ <traceback object at 0x31e74cc80>
    │    │   │     │    └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('No response returned.')])
    │    │   │     └ <class 'ExceptionGroup'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x31ecafa00>
    └ <contextlib._GeneratorContextManager object at 0x31e767090>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     │    └ <app.core.metrics.MetricsMiddleware object at 0x31ecdb1d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x31ecf8e50>

  File "/Users/rakesh/ap_vc/app/core/metrics.py", line 47, in __call__
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x31ed2df50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1036c07c0>

  File "/Users/rakesh/ap_vc/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 166, in call_next
    raise RuntimeError("No response returned.")

RuntimeError: No response returned.
2024-11-07 20:44:01.519 | INFO     | logging:callHandlers:1706 - Shutting down
2024-11-07 20:44:01.623 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2024-11-07 20:44:01.624 | INFO     | app.main:shutdown_event:83 - Shutting down application...
2024-11-07 20:44:01.624 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2024-11-07 20:44:01.624 | INFO     | logging:callHandlers:1706 - Finished server process [72554]
